{"version":3,"sources":["components/Input/EmojiPicker.jsx","components/Input/Input.jsx","components/Options/Options.jsx","components/Confirmation/useConfirmation.jsx","DATE.js","utils/getDateString.js","components/SingleChat/SingleChat.jsx","components/Messenger/Messenger.jsx","pages/Messenger/Messenger.jsx"],"names":["EmojiPicker","forwardRef","ref","setValue","emojiRef","useRef","useImperativeHandle","close","setIsOpen","useState","isOpen","useEffect","emojiPicker","current","addEmoji","e","value","detail","unicode","addEventListener","removeEventListener","className","onClick","open","Input","placeholder","handler","showEmoji","initialValue","submitHandler","preventDefault","trim","onSubmit","type","onChange","target","onFocus","src","sendIcon","alt","Options","options","id","isOptionsVisible","setIsOptionsVisible","handleOutsideClick","document","body","val","optionsIcon","Object","entries","map","i","title","handleClick","Confirmation","show","toggleShow","text","onSuccess","onClose","useConfirmation","setShow","Comp","months","getDateString","date","newDate","Date","getDate","getMonth","getFullYear","SingleChat","message","index","messages","today","createdAt","prevMessageDate","diff","formattedDate","showDate","isEmoji","length","match","send","getHours","getMinutes","Messenger","useSelector","state","user","conversationID","to","chats","socket","usersOnline","users","userDetails","find","chat","_id","customFetch","useFetch","dispatch","useDispatch","scroll","scrollTop","scrollHeight","emit","addMessages","updateChats","lastMessage","deleteChat","ConfirmDelete","toggleDelete","clearMessage","ConfirmClear","profileImage","dp","name","some","u","MessengerPage","navigate","useNavigate","window","innerWidth","style","height","borderRadius","overflow"],"mappings":"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","file":"static/js/8.0844be21.chunk.js","sourcesContent":["import React, { forwardRef } from \"react\";\r\nimport \"emoji-picker-element\";\r\nimport { FaRegKeyboard } from \"react-icons/fa\";\r\nimport { BsEmojiSmile } from \"react-icons/bs\";\r\nimport { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useImperativeHandle } from \"react\";\r\n\r\nconst EmojiPicker = forwardRef(({ setValue }, ref) => {\r\n\tconst emojiRef = useRef();\r\n\r\n\tuseImperativeHandle(ref, () => ({\r\n\t\tclose: () => setIsOpen(false),\r\n\t}));\r\n\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst emojiPicker = emojiRef.current;\r\n\t\tconst addEmoji = e => {\r\n\t\t\tsetValue(value => value + e.detail.unicode);\r\n\t\t};\r\n\t\temojiPicker.addEventListener(\"emoji-click\", addEmoji);\r\n\t\treturn () => {\r\n\t\t\temojiPicker.removeEventListener(\"emoji-click\", addEmoji);\r\n\t\t};\r\n\t}, [setValue]);\r\n\r\n\treturn (\r\n\t\t<div className=\"emoji-picker\">\r\n\t\t\t<div className=\"opener\" onClick={() => setIsOpen(open => !open)}>\r\n\t\t\t\t{isOpen ? <FaRegKeyboard /> : <BsEmojiSmile />}\r\n\t\t\t</div>\r\n\t\t\t<div className={isOpen ? \"picker open\" : \"picker\"}>\r\n\t\t\t\t<emoji-picker ref={emojiRef} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nexport default EmojiPicker;\r\n","import React, { useState } from \"react\";\r\nimport { sendIcon } from \"../../assets\";\r\n\r\nimport \"./input.css\";\r\nimport EmojiPicker from \"./EmojiPicker\";\r\nimport { useRef } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Input = ({ placeholder, handler, showEmoji, initialValue = \"\" }) => {\r\n\tconst submitHandler = async e => {\r\n\t\te.preventDefault();\r\n\t\temojiRef.current?.close();\r\n\t\tif (value.trim()) handler(value.trim());\r\n\t\tsetValue(\"\");\r\n\t};\r\n\tconst [value, setValue] = useState(initialValue);\r\n\tconst emojiRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue(initialValue);\r\n\t}, [initialValue]);\r\n\r\n\treturn (\r\n\t\t<form className=\"input__box\" onSubmit={submitHandler}>\r\n\t\t\t{showEmoji && <EmojiPicker setValue={setValue} ref={emojiRef} />}\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={e => setValue(e.target.value)}\r\n\t\t\t\tonFocus={() => emojiRef.current?.close()}\r\n\t\t\t/>\r\n\t\t\t<button type=\"submit\" aria-label=\"submit\">\r\n\t\t\t\t<img src={sendIcon} alt=\"send\" />\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Input;\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { optionsIcon } from \"../../assets\";\r\nimport \"./options.css\";\r\n\r\nconst Options = ({ options, id = \"\" }) => {\r\n\tconst [isOptionsVisible, setIsOptionsVisible] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleOutsideClick = e => {\r\n\t\t\tif (e.target.id !== \"options\" + id && e.target.id !== \"options__icon\" + id) {\r\n\t\t\t\tsetIsOptionsVisible(false);\r\n\t\t\t}\r\n\t\t};\r\n\t\tdocument.body.addEventListener(\"click\", handleOutsideClick);\r\n\t\treturn () => document.body.removeEventListener(\"click\", handleOutsideClick);\r\n\t}, [id]);\r\n\r\n\tconst handleClick = handler => {\r\n\t\tsetIsOptionsVisible(false);\r\n\t\thandler();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"options\" id={\"options\" + id} onClick={() => setIsOptionsVisible(val => !val)}>\r\n\t\t\t<img src={optionsIcon} alt=\"options\" className=\"options__icon\" id={\"options__icon\" + id} />\r\n\t\t\t<ul className={isOptionsVisible ? \"show\" : \"\"}>\r\n\t\t\t\t{Object.entries(options).map(([title, handler], i) => (\r\n\t\t\t\t\t<li onClick={() => handleClick(handler)} key={i}>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Options;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport Backdrop from \"../Backdrop/Backdrop\";\r\nimport \"./confirmation.css\";\r\n\r\nconst Confirmation = ({ show, toggleShow, text, onSuccess }) => (\r\n\t<Backdrop show={show} onClose={toggleShow}>\r\n\t\t<div className=\"confirmation\">\r\n\t\t\t<h2>{text}</h2>\r\n\t\t\t<div className=\"btn-group\">\r\n\t\t\t\t<button onClick={toggleShow}>Cancel</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"danger\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\ttoggleShow();\r\n\t\t\t\t\t\tonSuccess();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tYes, I'm sure\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</Backdrop>\r\n);\r\nconst useConfirmation = (onSuccess, text = \"Are Your sure ?\") => {\r\n\tconst [show, setShow] = useState(false);\r\n\tconst toggleShow = () => setShow(!show);\r\n\tconst Comp = <Confirmation show={show} onSuccess={onSuccess} text={text} toggleShow={toggleShow} />;\r\n\treturn { toggleShow, Confirmation: Comp };\r\n};\r\n\r\nexport default useConfirmation;\r\n","const months = [\r\n   \"January\",\r\n   \"February\",\r\n   \"March\",\r\n   \"April\",\r\n   \"May\",\r\n   \"June\",\r\n   \"July\",\r\n   \"August\",\r\n   \"September\",\r\n   \"October\",\r\n   \"November\",\r\n   \"December\",\r\n];\r\n\r\nexport { months };\r\n","import { months } from \"../DATE\";\r\n\r\nconst getDateString = date => {\r\n\tif (!date) return \"\";\r\n\tlet newDate = new Date(date);\r\n\tnewDate = `${newDate.getDate()} ${months[newDate.getMonth()]} ${newDate.getFullYear()}`;\r\n\treturn newDate;\r\n};\r\n\r\nexport default getDateString;\r\n","import React from \"react\";\r\nimport getDateString from \"../../utils/getDateString\";\r\nimport \"./singlechat.css\";\r\n\r\nconst SingleChat = ({ message, index, messages }) => {\r\n\tconst today = new Date();\r\n\tconst createdAt = new Date(message.createdAt);\r\n\tconst prevMessageDate = messages[index - 1] && new Date(messages[index - 1]?.createdAt);\r\n\tconst diff = today.getDate() - createdAt.getDate();\r\n\tconst formattedDate = getDateString(createdAt);\r\n\r\n\tconst date = diff === 1 ? \"YESTERDAY\" : diff === 0 ? \"TODAY\" : formattedDate;\r\n\tconst showDate = prevMessageDate\r\n\t\t? createdAt.getDate() - prevMessageDate.getDate() > 0\r\n\t\t\t? true\r\n\t\t\t: false\r\n\t\t: true;\r\n\r\n\tconst getTime = () => {\r\n\t\treturn `${createdAt.getHours()}:${\r\n\t\t\tcreatedAt.getMinutes() > 9 ? createdAt.getMinutes() : \"0\" + createdAt.getMinutes()\r\n\t\t}`;\r\n\t};\r\n\r\n\tconst isEmoji = message.text.length === 2 && !message.text.match(/\\w/);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showDate && <h4>{date}</h4>}\r\n\t\t\t<div className={message.send ? \"chat__sent\" : \"chat__recieve\"}>\r\n\t\t\t\t<p className={isEmoji ? \"emoji message\" : \"message\"}>\r\n\t\t\t\t\t{message.text}\r\n\t\t\t\t\t{messages[index + 1]?.send !== message.send && <span className=\"time\">{getTime()}</span>}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default SingleChat;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addMessages, clearMessage, deleteChat, updateChats } from \"../../features/messageSlice\";\r\nimport SingleChat from \"../SingleChat/SingleChat\";\r\nimport Input from \"../Input/Input\";\r\nimport { dp } from \"../../assets\";\r\nimport \"./messenger.css\";\r\nimport Options from \"../Options/Options\";\r\nimport useConfirmation from \"../Confirmation/useConfirmation\";\r\n\r\nconst Messenger = () => {\r\n\tconst {\r\n\t\tuser: { id },\r\n\t\tmessage: { messages, conversationID, to, chats },\r\n\t\tsocket: { socket },\r\n\t\tusers: { usersOnline },\r\n\t} = useSelector(state => state);\r\n\r\n\tconst userDetails = chats?.find(chat => chat._id === conversationID)?.userDetails || {};\r\n\r\n\tconst customFetch = useFetch();\r\n\tconst dispatch = useDispatch();\r\n\tconst scroll = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (scroll.current) scroll.current.scrollTop = scroll.current.scrollHeight;\r\n\t}, [messages]);\r\n\r\n\tconst submitHandler = async message => {\r\n\t\tsocket.emit(\"send message\", message, to, conversationID, id);\r\n\t\tdispatch(addMessages({ text: message, send: true }));\r\n\t\tdispatch(updateChats({ id: to, lastMessage: message, customFetch }));\r\n\t};\r\n\r\n\tconst deleteHandler = () => {\r\n\t\tsocket.emit(\"delete chat\", conversationID, to);\r\n\t\tdispatch(deleteChat(conversationID));\r\n\t};\r\n\tconst clearHandler = () => {\r\n\t\tsocket.emit(\"clear chat\", conversationID, to);\r\n\t\tdispatch(clearMessage({ conversationID }));\r\n\t};\r\n\r\n\tconst { Confirmation: ConfirmDelete, toggleShow: toggleDelete } = useConfirmation(\r\n\t\tdeleteHandler,\r\n\t\t\"Are you sure, you want to delete this chat\"\r\n\t);\r\n\r\n\tconst { Confirmation: ConfirmClear, toggleShow: toggleClear } = useConfirmation(\r\n\t\tclearHandler,\r\n\t\t\"Are you sure, you want to clear this chat\"\r\n\t);\r\n\r\n\tconst options = {\r\n\t\t\"Delete Chat\": toggleDelete,\r\n\t\t\"Clear Chat\": toggleClear,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section className=\"chat__page__messenger\">\r\n\t\t\t{conversationID ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{ConfirmDelete}\r\n\t\t\t\t\t{ConfirmClear}\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<img src={userDetails.profileImage || dp} alt=\"chatIcon\" className=\"chat__page__dp\" />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h3>{userDetails.name}</h3>\r\n\t\t\t\t\t\t\t{usersOnline.some(u => u.id === userDetails._id) && <p>Online</p>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Options options={options} />\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<main ref={scroll}>\r\n\t\t\t\t\t\t<div className=\"messenger\">\r\n\t\t\t\t\t\t\t{messages.map((message, i, messages) => {\r\n\t\t\t\t\t\t\t\treturn <SingleChat key={i} message={message} index={i} messages={messages} />;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</main>\r\n\t\t\t\t\t<footer>\r\n\t\t\t\t\t\t<Input placeholder=\"Type a message...\" handler={submitHandler} showEmoji />\r\n\t\t\t\t\t</footer>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<h4>Select a conversation</h4>\r\n\t\t\t)}\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Messenger;\r\n","import React, { useEffect } from \"react\";\r\nimport Messenger from \"../../components/Messenger/Messenger\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst MessengerPage = () => {\r\n\tconst style = {\r\n\t\theight: \"calc(100vh - 9rem)\",\r\n\t\tborderRadius: \"10px\",\r\n\t\toverflow: \"hidden\",\r\n\t};\r\n\r\n\tconst navigate = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (window.innerWidth > 800) navigate(\"/chat\");\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div style={style}>\r\n\t\t\t<Messenger />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MessengerPage;\r\n"],"sourceRoot":""}