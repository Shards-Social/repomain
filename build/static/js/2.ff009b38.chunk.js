(this.webpackJsonpShards=this.webpackJsonpShards||[]).push([[2],{165:function(e,t,c){"use strict";var n=c(7),i=c(3),s=c.n(i),r=c(5),a=c(1),o=c(19),l=(c(169),c(174),c(172)),u=c(173),j=c(2),d=Object(a.forwardRef)((function(e,t){var c=e.setValue,i=Object(a.useRef)();Object(a.useImperativeHandle)(t,(function(){return{close:function(){return d(!1)}}}));var s=Object(a.useState)(!1),r=Object(n.a)(s,2),o=r[0],d=r[1];return Object(a.useEffect)((function(){var e=i.current,t=function(e){c((function(t){return t+e.detail.unicode}))};return e.addEventListener("emoji-click",t),function(){e.removeEventListener("emoji-click",t)}}),[c]),Object(j.jsxs)("div",{className:"emoji-picker",children:[Object(j.jsx)("div",{className:"opener",onClick:function(){return d((function(e){return!e}))},children:o?Object(j.jsx)(l.b,{}):Object(j.jsx)(u.a,{})}),Object(j.jsx)("div",{className:o?"picker open":"picker",children:Object(j.jsx)("emoji-picker",{ref:i})})]})}));t.a=function(e){var t=e.placeholder,c=e.handler,i=e.showEmoji,l=e.initialValue,u=void 0===l?"":l,b=function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),null===(n=m.current)||void 0===n||n.close(),h.trim()&&c(h.trim()),f("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=Object(a.useState)(u),p=Object(n.a)(O,2),h=p[0],f=p[1],m=Object(a.useRef)();return Object(a.useEffect)((function(){f(u)}),[u]),Object(j.jsxs)("form",{className:"input__box",onSubmit:b,children:[i&&Object(j.jsx)(d,{setValue:f,ref:m}),Object(j.jsx)("input",{type:"text",placeholder:t,value:h,onChange:function(e){return f(e.target.value)},onFocus:function(){var e;return null===(e=m.current)||void 0===e?void 0:e.close()}}),Object(j.jsx)("button",{type:"submit","aria-label":"submit",children:Object(j.jsx)("img",{src:o.l,alt:"send"})})]})}},166:function(e,t,c){"use strict";var n=c(7),i=c(1),s=c(19),r=(c(170),c(2));t.a=function(e){var t=e.options,c=e.id,a=void 0===c?"":c,o=Object(i.useState)(!1),l=Object(n.a)(o,2),u=l[0],j=l[1];Object(i.useEffect)((function(){var e=function(e){e.target.id!=="options"+a&&e.target.id!=="options__icon"+a&&j(!1)};return document.body.addEventListener("click",e),function(){return document.body.removeEventListener("click",e)}}),[a]);return Object(r.jsxs)("div",{className:"options",id:"options"+a,onClick:function(){return j((function(e){return!e}))},children:[Object(r.jsx)("img",{src:s.j,alt:"options",className:"options__icon",id:"options__icon"+a}),Object(r.jsx)("ul",{className:u?"show":"",children:Object.entries(t).map((function(e,t){var c=Object(n.a)(e,2),i=c[0],s=c[1];return Object(r.jsx)("li",{onClick:function(){return function(e){j(!1),e()}(s)},children:i},t)}))})]})}},167:function(e,t,c){"use strict";var n=c(7),i=c(1),s=c(48),r=(c(171),c(2)),a=function(e){var t=e.show,c=e.toggleShow,n=e.text,i=e.onSuccess;return Object(r.jsx)(s.a,{show:t,onClose:c,children:Object(r.jsxs)("div",{className:"confirmation",children:[Object(r.jsx)("h2",{children:n}),Object(r.jsxs)("div",{className:"btn-group",children:[Object(r.jsx)("button",{onClick:c,children:"Cancel"}),Object(r.jsx)("button",{className:"danger",onClick:function(){c(),i()},children:"Yes, I'm sure"})]})]})})};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Are Your sure ?",c=Object(i.useState)(!1),s=Object(n.a)(c,2),o=s[0],l=s[1],u=function(){return l(!o)},j=Object(r.jsx)(a,{show:o,onSuccess:e,text:t,toggleShow:u});return{toggleShow:u,Confirmation:j}}},168:function(e,t,c){"use strict";var n=["January","February","March","April","May","June","July","August","September","October","November","December"];t.a=function(e){if(!e)return"";var t=new Date(e);return t="".concat(t.getDate()," ").concat(n[t.getMonth()]," ").concat(t.getFullYear())}},169:function(e,t,c){},170:function(e,t,c){},171:function(e,t,c){},176:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));c(1);var n=c(19),i=c(62),s=c(2),r=function(e){var t=e.singlepost;return Object(s.jsxs)("article",{className:t?"post halfborder single":"post gradient-border",children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("img",{src:n.f,alt:"profileImage",className:"post__dp roundimage"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"loadingBox",style:{width:"70px",height:"10px"}}),Object(s.jsx)("div",{className:"loadingBox",style:{width:"100px",height:"10px",marginTop:"0.5em"}})]})]}),Object(s.jsx)("div",{className:"post__details",children:Object(s.jsx)("div",{className:"loadingBox",style:{width:"100%",height:t?"60vh":"400px",borderRadius:"1em"}})}),Object(s.jsx)("div",{className:"post__footer",children:Object(s.jsxs)("div",{className:"group",children:[Object(s.jsx)(i.b,{}),Object(s.jsx)("div",{className:"loadingBox",style:{width:"250px",height:"20px"}})]})})]})};t.b=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(r,{}),Object(s.jsx)(r,{}),Object(s.jsx)(r,{})]})}},178:function(e,t,c){},181:function(e,t,c){"use strict";var n=c(7),i=c(1),s=c(10),r=c(29),a=c(19),o=c(165),l=c(6),u=c(16),j=c(23),d=c(166),b=(c(178),c(62)),O=c(187),p=c(175),h=c(168),f=c(173),m=c(172),x=c(186),v=c(11),g=c(2),_=function(e){var t=e.item,c=t.onClick,n=t.Icon,i=t.title;return Object(g.jsxs)("div",{className:"share__item",onClick:c,children:[Object(g.jsx)(n,{}),Object(g.jsx)("p",{children:i})]})},w=function(e){var t=e.post,c=Object(s.b)(),n={twitter:"https://twitter.com/intent/tweet?text=".concat(t.caption,"&url=https://adra-amie.netlify.app/post/").concat(t._id),facebook:"https://www.facebook.com/dialog/share?\n\t\tapp_id=287203076842060\n\t\t&display=popup\n\t\t&href=https://adra-amie.netlify.app/post/".concat(t._id,"\n\t\t&redirect_uri=https://adra-amie.netlify.app/post/").concat(t._id),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url=https://adra-amie.netlify.app/post/".concat(t._id),whatsapp:"https://api.whatsapp.com/send/?text=".concat(t.caption," Link: https://adra-amie.netlify.app/post/").concat(t._id)},i=function(e){window.open(n[e],"_blank")},r=[{title:"Embed",onClick:function(){window.navigator.clipboard.writeText('<iframe\n\t\t\t\tsrc="https://adra-amie.netlify.app/post/'.concat(t._id,'?embed=true"\n\t\t\t\twidth="500"\n\t\t\t\theight="700"\n\t\t\t\ttitle="social-media-app"\n\t\t\t></iframe>')),c(Object(v.c)({msg:"Copied embed code to clipboard"}))},Icon:x.a},{title:"Whatsapp",onClick:function(){return i("whatsapp")},Icon:p.b},{title:"Facebook",onClick:function(){return i("facebook")},Icon:f.b},{title:"Twitter",onClick:function(){return i("twitter")},Icon:b.d},{title:"Linked In",onClick:function(){return i("linkedin")},Icon:m.a}];return Object(g.jsxs)("article",{className:"share",children:[Object(g.jsx)("h2",{children:"Share"}),Object(g.jsx)("div",{className:"share__items",children:r.map((function(e,t){return Object(g.jsx)(_,{item:e},t)}))}),Object(g.jsxs)("div",{className:"share__url",children:[t._id,Object(g.jsx)("button",{className:"btn",onClick:function(){window.navigator.clipboard.writeText("https://adra-amie.netlify.app/post/".concat(t._id)),c(Object(v.c)({msg:"URL copied to clipboard"}))},children:"Copy URL"})]})]})},k=c(48),N=function(e){var t=e.image,c=e.onClose;return Object(g.jsxs)("div",{className:"imageViewer",children:[Object(g.jsx)("button",{onClick:c,"aria-label":"close",children:Object(g.jsx)("img",{src:a.e,alt:"close"})}),Object(g.jsx)("img",{src:t,alt:"post"})]})},C=c(167);t.a=function(e){var t,c,f,m=e.singlepost,x=e.post,v=Object(h.a)(x.createdAt),_=Object(i.useState)(!1),y=Object(n.a)(_,2),S=y[0],F=y[1],E=Object(i.useState)(!1),L=Object(n.a)(E,2),I=L[0],D=L[1],A=Object(s.b)(),R=Object(j.a)(),B=Object(l.o)(),Y=Object(s.c)((function(e){return e})),J=Y.user.id,U=Y.users.usersOnline,T=J===x.createdBy,z=null===(t=x.likes)||void 0===t?void 0:t.includes(J),M=U.some((function(e){return e.id===x.createdBy})),P=Object(C.a)((function(){A(Object(r.e)({customFetch:R,id:x._id})),m&&B(-1)}),"Are you sure, You want to delete the post?"),V=P.Confirmation,H={Delete:P.toggleShow,Edit:function(){A(Object(r.j)(x))}},W=function(){var e,t,c,n=function(){return D(!I)};return Object(g.jsxs)(g.Fragment,{children:[x.caption&&(c=x.caption,c.split(/[\n\r]/g).map((function(e,t){return e&&Object(g.jsx)("p",{className:"post__caption",children:e},t)}))),m&&Object(g.jsx)(k.a,{show:I,onClose:n,children:Object(g.jsx)(N,{image:null===(e=x.image)||void 0===e?void 0:e.src})}),(null===(t=x.image)||void 0===t?void 0:t.src)&&Object(g.jsx)("img",{src:x.image.src,alt:"post_image",className:"post__image",loading:"lazy",onClick:n})]})};return Object(g.jsxs)("article",{className:m?"post halfborder single":"post gradient-border",children:[V,Object(g.jsx)(k.a,{show:S,onClose:function(){return F(!1)},children:Object(g.jsx)(w,{post:x})}),Object(g.jsxs)("header",{children:[Object(g.jsx)(u.b,{to:"/user/".concat(x.createdBy),className:M?"green":"",children:Object(g.jsx)("img",{src:(null===(c=x.userDetails)||void 0===c?void 0:c.image)||a.f,alt:"profileImage",loading:"lazy",className:"post__dp roundimage"})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:null===(f=x.userDetails)||void 0===f?void 0:f.name}),Object(g.jsx)("p",{children:v})]}),T&&Object(g.jsx)(d.a,{options:H,id:x._id})]}),Object(g.jsx)("div",{className:"post__details",children:m?W():Object(g.jsx)(u.b,{to:"/post/".concat(x._id),children:W()})}),Object(g.jsxs)("div",{className:"post__footer",children:[Object(g.jsxs)("div",{className:"group",children:[Object(g.jsx)("div",{onClick:function(){A(Object(r.g)({customFetch:R,id:x._id,isLiked:z}))},children:z?Object(g.jsx)(b.b,{}):Object(g.jsx)(b.c,{})}),Object(g.jsx)("p",{children:function(){var e,t,c,n,i;return(null===(e=x.likes)||void 0===e?void 0:e.length)?(null===(t=x.likes)||void 0===t?void 0:t.includes(J))?(null===(c=x.likes)||void 0===c?void 0:c.length)-1===0?"You":(null===(n=x.likes)||void 0===n?void 0:n.length)-1===1?"You and 1 more":"You and ".concat(x.likes.length-1," others"):null===(i=x.likes)||void 0===i?void 0:i.length:""}()})]}),m||Object(g.jsx)(o.a,{placeholder:"Comment",handler:function(e){A(Object(r.b)({customFetch:R,id:x._id,comment:e}))}}),Object(g.jsxs)(u.b,{className:m?"comment__icon group":"group",to:"/post/".concat(x._id),children:[Object(g.jsx)(O.a,{}),Object(g.jsx)("p",{children:x.comments.length})]}),Object(g.jsx)("div",{className:"group",onClick:function(){return F(!0)},title:"share",children:Object(g.jsx)(p.a,{})})]})]})}},183:function(e,t,c){"use strict";var n=c(3),i=c.n(n),s=c(5),r=c(7),a=c(1),o=c(2);t.a=function(e){var t=e.getNextPage,c=e.children,n=e.offset,l=void 0===n?10:n,u=Object(a.useRef)(),j=Object(a.useState)(!1),d=Object(r.a)(j,2),b=d[0],O=d[1],p=Object(a.useState)(!1),h=Object(r.a)(p,2),f=h[0],m=h[1],x=Object(a.useCallback)(Object(s.a)(i.a.mark((function e(){var c,n,s,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u.current){e.next=3;break}return e.abrupt("return");case 3:if(n=c.getBoundingClientRect(),s=n.height,r=n.top,a=window.innerHeight+-1*r-s,!(a>l)||b||f){e.next=13;break}return m(!0),e.next=10,t();case 10:e.sent||O(!0),m(!1);case 13:case"end":return e.stop()}}),e)}))),[f,b,l,t]);return Object(a.useEffect)((function(){return document.addEventListener("scroll",x),function(){return document.removeEventListener("scroll",x)}}),[x]),Object(o.jsx)("div",{className:"infinityScroll",children:Object(o.jsxs)("div",{className:"infinityScroll__content",ref:u,children:[c,!b&&f&&Object(o.jsx)("div",{className:"loading__circle"})]})})}},184:function(e,t,c){"use strict";c(1);var n=c(176),i=c(181),s=c(2);t.a=function(e){var t=e.posts,c=e.isLoading;return Object(s.jsx)("div",{className:"posts",children:c?Object(s.jsx)(n.b,{}):t.map((function(e){return Object(s.jsx)(i.a,{post:e},e._id)}))})}},188:function(e,t,c){"use strict";var n=c(3),i=c.n(n),s=c(5),r=c(7),a=c(1),o=c(19),l=c(8),u=c(9),j=c(10),d=c(13),b=c(11),O=c(23),p=(c(189),c(52)),h=c(43),f=c(2),m=function(e){var t=e.close,c=e.user,n=Object(a.useState)({name:"",about:"",location:""}),o=Object(r.a)(n,2),m=o[0],x=o[1];Object(a.useEffect)((function(){c._id&&x({name:c.name||"",about:c.about||"",location:c.location||""})}),[c]);var v=function(e,t){x((function(c){return Object(u.a)(Object(u.a)({},c),{},Object(l.a)({},e,t.target.value))}))},g=Object(j.b)(),_=Object(O.a)(),w=function(){var e=Object(s.a)(i.a.mark((function e(c){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,_(p.c,m);case 3:(n=e.sent)&&(g(Object(h.c)({customFetch:_})),t(),g(Object(d.d)({name:n.user.name,id:n.user._id})),g(Object(b.c)({msg:"Success"})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("form",{onSubmit:w,className:"setup",children:[Object(f.jsx)("label",{htmlFor:"",children:"Username"}),Object(f.jsx)("input",{type:"text",value:m.name,required:!0,onChange:function(e){return v("name",e)}}),Object(f.jsx)("label",{htmlFor:"",children:"About"}),Object(f.jsx)("input",{type:"text",value:m.about,onChange:function(e){return v("about",e)}}),Object(f.jsx)("label",{htmlFor:"",children:"Location"}),Object(f.jsx)("input",{type:"text",value:m.location,onChange:function(e){return v("location",e)}}),Object(f.jsx)("button",{type:"submit",children:"Continue"}),Object(f.jsx)("button",{onClick:t,type:"reset",children:"Cancel"})]})},x=c(14),v=c(60),g=(c(190),function(e){var t=e.close,c=Object(a.useState)(null),n=Object(r.a)(c,2),o=n[0],l=n[1],u=Object(a.useState)(null),m=Object(r.a)(u,2),g=m[0],_=m[1],w=Object(j.b)(),k=Object(O.a)(),N=new v.a,C=function(){var e=Object(s.a)(i.a.mark((function e(c){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),(n=new FormData).append("image",o),w(Object(b.c)({})),e.next=6,k(p.b,n);case 6:(s=e.sent)&&(w(Object(h.c)({customFetch:k})),w(Object(d.d)({profileImage:s.user.profileImage,id:s.user._id})),t(),w(Object(b.c)({msg:"Success"})),l(null),_(null));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("form",{onSubmit:C,className:"imageupload",children:[g&&Object(f.jsx)("img",{src:g,alt:"upload-preview"}),Object(f.jsxs)("div",{className:"btns",children:[Object(f.jsx)("label",{htmlFor:"dp-image",children:"Upload"}),Object(f.jsx)("input",{type:"file",id:"dp-image",accept:"image/png, image/jpeg",onChange:function(e){var t=e.target;if(t){var c=new FileReader;c.onload=function(e){_(e.target.result)},t.files[0]&&c.readAsDataURL(t.files[0]);var n=Object(x.a)(t.files);N.compress(n,{size:.5,quality:.75,maxWidth:1e3,maxHeight:1e3,resize:!0,rotate:!1}).then((function(e){var t,c;l(v.a.convertBase64ToFile(null===(t=e[0])||void 0===t?void 0:t.data,null===(c=e[0])||void 0===c?void 0:c.ext))}))}}}),o&&Object(f.jsx)("button",{type:"submit",children:"Submit"}),Object(f.jsx)("button",{onClick:t,type:"reset",children:"Cancel"})]})]})}),_=c(6),w=c(30),k=c(48),N=(c(191),c(168));t.a=function(e){var t=e.id,c=e.isOwnProfile,n=Object(j.c)((function(e){return e})),l=n.users.users,u=n.user.isGuest,p=l.find((function(e){return e._id===t}))||{},h=Object(a.useState)(!1),x=Object(r.a)(h,2),v=x[0],C=x[1],y=Object(a.useState)(!1),S=Object(r.a)(y,2),F=S[0],E=S[1],L=Object(O.a)(),I=Object(j.b)(),D=Object(_.o)(),A=p.name,R=p.email,B=p.about,Y=p.dob,J=p.location,U=p.createdAt,T=p.profileImage;U="Joined on ".concat(Object(N.a)(U)),Y=Object(N.a)(Y);var z=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return",I(Object(b.c)({msg:"Please log in to continue"})));case 2:I(Object(b.b)(!0)),I(Object(w.c)({customFetch:L,id:t})).then((function(){window.innerWidth<801?D("/chat/messenger"):D("/chat"),I(Object(b.b)(!1))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){E(!1)},P=function(){C(!1)};return Object(f.jsxs)("section",{className:"profilecard gradient-border",children:[c&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(k.a,{show:v,onClose:P,children:Object(f.jsx)(m,{close:P,user:p})}),Object(f.jsx)(k.a,{show:F,onClose:M,children:Object(f.jsx)(g,{close:M})})]}),Object(f.jsxs)("header",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:T||o.f,alt:"profile_image",className:"profilecard__dp roundimage"}),c&&Object(f.jsx)("div",{className:"dp-upload",children:Object(f.jsx)("img",{src:o.b,alt:"change_profile_image",onClick:function(){return E(!0)}})})]}),Object(f.jsx)("h1",{children:A||"User"}),Object(f.jsx)("h2",{children:B||"About"})]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("div",{className:"profilecard__info",children:[Object(f.jsx)("img",{src:o.d,alt:"join date"}),Object(f.jsx)("h3",{children:U})]}),Object(f.jsxs)("div",{className:"profilecard__info",children:[Object(f.jsx)("img",{src:o.h,alt:"location"}),Object(f.jsx)("h3",{children:J})]}),Object(f.jsxs)("div",{className:"profilecard__info",children:[Object(f.jsx)("img",{src:o.i,alt:"mail"}),Object(f.jsx)("h3",{children:R})]}),Object(f.jsxs)("div",{className:"profilecard__info",children:[Object(f.jsx)("img",{src:o.a,alt:"date of birth"}),Object(f.jsx)("h3",{children:Y})]})]}),c?Object(f.jsxs)("div",{className:"btn-group",children:[Object(f.jsx)("button",{onClick:function(){return I(Object(d.c)())},children:"Logout"}),Object(f.jsx)("button",{onClick:function(){return C(!0)},children:"Edit Profile"})]}):Object(f.jsxs)("div",{className:"btn-group",children:[Object(f.jsx)("button",{onClick:z,children:"Message"}),Object(f.jsx)("button",{disabled:!0,children:"Add Friend"})]})]})}},189:function(e,t,c){},190:function(e,t,c){},191:function(e,t,c){}}]);
//# sourceMappingURL=2.ff009b38.chunk.js.map