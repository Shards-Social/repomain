{"version":3,"sources":["components/Input/EmojiPicker.jsx","components/Input/Input.jsx","components/Options/Options.jsx","components/Confirmation/useConfirmation.jsx","DATE.js","utils/getDateString.js","components/Post/Loading.jsx","components/Post/Share.jsx","components/Post/ImageViewer.jsx","components/Post/Post.jsx","components/InfinityScroll/InfinityScroll.jsx","components/Post/Posts.jsx","components/SetupProfile/SetupProfile.jsx","components/ImageUpload/ImageUpload.jsx","components/ProfileCard/ProfileCard.jsx"],"names":["EmojiPicker","forwardRef","ref","setValue","emojiRef","useRef","useImperativeHandle","close","setIsOpen","useState","isOpen","useEffect","emojiPicker","current","addEmoji","e","value","detail","unicode","addEventListener","removeEventListener","className","onClick","open","Input","placeholder","handler","showEmoji","initialValue","submitHandler","preventDefault","trim","onSubmit","type","onChange","target","onFocus","src","sendIcon","alt","Options","options","id","isOptionsVisible","setIsOptionsVisible","handleOutsideClick","document","body","val","optionsIcon","Object","entries","map","i","title","handleClick","Confirmation","show","toggleShow","text","onSuccess","onClose","useConfirmation","setShow","Comp","months","getDateString","date","newDate","Date","getDate","getMonth","getFullYear","Post","singlepost","dp","style","width","height","marginTop","borderRadius","Loading","ShareItem","item","Icon","Share","post","dispatch","useDispatch","shareToUrls","twitter","caption","_id","facebook","linkedin","whatsapp","shareTo","dest","window","shareItems","navigator","clipboard","writeText","showModal","msg","ImEmbed","IoLogoWhatsapp","BsFacebook","AiOutlineTwitter","FaLinkedinIn","ImageViewer","image","closeIcon","createdAt","showShare","setShowShare","showImage","setShowImage","customFetch","useFetch","navigate","useNavigate","useSelector","state","user","usersOnline","users","isOwnPost","createdBy","isLiked","likes","includes","isOnline","some","deletePost","Delete","Edit","setEditingPost","postDetails","toggleImage","split","para","Backdrop","loading","to","userDetails","name","likePost","length","getNumberOfLikes","comment","commentPost","comments","InfinityScroll","getNextPage","children","offset","contentRef","isFinished","setIsFinished","isLoading","setIsLoading","useCallback","a","content","getBoundingClientRect","top","remainingSpaceAtBottom","innerHeight","Posts","posts","SetupProfile","about","location","setUserDetails","_updateUser","key","clickHandler","updateUserService","data","getUsers","update","htmlFor","required","ImageUpload","setImage","preview","setPreview","compress","Compress","formData","FormData","append","updateDPService","profileImage","accept","input","reader","FileReader","onload","result","files","readAsDataURL","size","quality","maxWidth","maxHeight","resize","rotate","then","convertBase64ToFile","ext","ProfileCard","isOwnProfile","isGuest","find","isEditing","setIsEditing","isUploading","setIsUploading","email","dob","sendMessage","createChat","innerWidth","hideUploading","hideEditing","cameraIcon","clockIcon","locationIcon","mailIcon","cakeIcon","logout","disabled"],"mappings":"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","file":"static/js/2.ff009b38.chunk.js","sourcesContent":["import React, { forwardRef } from \"react\";\r\nimport \"emoji-picker-element\";\r\nimport { FaRegKeyboard } from \"react-icons/fa\";\r\nimport { BsEmojiSmile } from \"react-icons/bs\";\r\nimport { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useImperativeHandle } from \"react\";\r\n\r\nconst EmojiPicker = forwardRef(({ setValue }, ref) => {\r\n\tconst emojiRef = useRef();\r\n\r\n\tuseImperativeHandle(ref, () => ({\r\n\t\tclose: () => setIsOpen(false),\r\n\t}));\r\n\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst emojiPicker = emojiRef.current;\r\n\t\tconst addEmoji = e => {\r\n\t\t\tsetValue(value => value + e.detail.unicode);\r\n\t\t};\r\n\t\temojiPicker.addEventListener(\"emoji-click\", addEmoji);\r\n\t\treturn () => {\r\n\t\t\temojiPicker.removeEventListener(\"emoji-click\", addEmoji);\r\n\t\t};\r\n\t}, [setValue]);\r\n\r\n\treturn (\r\n\t\t<div className=\"emoji-picker\">\r\n\t\t\t<div className=\"opener\" onClick={() => setIsOpen(open => !open)}>\r\n\t\t\t\t{isOpen ? <FaRegKeyboard /> : <BsEmojiSmile />}\r\n\t\t\t</div>\r\n\t\t\t<div className={isOpen ? \"picker open\" : \"picker\"}>\r\n\t\t\t\t<emoji-picker ref={emojiRef} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nexport default EmojiPicker;\r\n","import React, { useState } from \"react\";\r\nimport { sendIcon } from \"../../assets\";\r\n\r\nimport \"./input.css\";\r\nimport EmojiPicker from \"./EmojiPicker\";\r\nimport { useRef } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Input = ({ placeholder, handler, showEmoji, initialValue = \"\" }) => {\r\n\tconst submitHandler = async e => {\r\n\t\te.preventDefault();\r\n\t\temojiRef.current?.close();\r\n\t\tif (value.trim()) handler(value.trim());\r\n\t\tsetValue(\"\");\r\n\t};\r\n\tconst [value, setValue] = useState(initialValue);\r\n\tconst emojiRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue(initialValue);\r\n\t}, [initialValue]);\r\n\r\n\treturn (\r\n\t\t<form className=\"input__box\" onSubmit={submitHandler}>\r\n\t\t\t{showEmoji && <EmojiPicker setValue={setValue} ref={emojiRef} />}\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={e => setValue(e.target.value)}\r\n\t\t\t\tonFocus={() => emojiRef.current?.close()}\r\n\t\t\t/>\r\n\t\t\t<button type=\"submit\" aria-label=\"submit\">\r\n\t\t\t\t<img src={sendIcon} alt=\"send\" />\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Input;\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { optionsIcon } from \"../../assets\";\r\nimport \"./options.css\";\r\n\r\nconst Options = ({ options, id = \"\" }) => {\r\n\tconst [isOptionsVisible, setIsOptionsVisible] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleOutsideClick = e => {\r\n\t\t\tif (e.target.id !== \"options\" + id && e.target.id !== \"options__icon\" + id) {\r\n\t\t\t\tsetIsOptionsVisible(false);\r\n\t\t\t}\r\n\t\t};\r\n\t\tdocument.body.addEventListener(\"click\", handleOutsideClick);\r\n\t\treturn () => document.body.removeEventListener(\"click\", handleOutsideClick);\r\n\t}, [id]);\r\n\r\n\tconst handleClick = handler => {\r\n\t\tsetIsOptionsVisible(false);\r\n\t\thandler();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"options\" id={\"options\" + id} onClick={() => setIsOptionsVisible(val => !val)}>\r\n\t\t\t<img src={optionsIcon} alt=\"options\" className=\"options__icon\" id={\"options__icon\" + id} />\r\n\t\t\t<ul className={isOptionsVisible ? \"show\" : \"\"}>\r\n\t\t\t\t{Object.entries(options).map(([title, handler], i) => (\r\n\t\t\t\t\t<li onClick={() => handleClick(handler)} key={i}>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Options;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport Backdrop from \"../Backdrop/Backdrop\";\r\nimport \"./confirmation.css\";\r\n\r\nconst Confirmation = ({ show, toggleShow, text, onSuccess }) => (\r\n\t<Backdrop show={show} onClose={toggleShow}>\r\n\t\t<div className=\"confirmation\">\r\n\t\t\t<h2>{text}</h2>\r\n\t\t\t<div className=\"btn-group\">\r\n\t\t\t\t<button onClick={toggleShow}>Cancel</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"danger\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\ttoggleShow();\r\n\t\t\t\t\t\tonSuccess();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tYes, I'm sure\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</Backdrop>\r\n);\r\nconst useConfirmation = (onSuccess, text = \"Are Your sure ?\") => {\r\n\tconst [show, setShow] = useState(false);\r\n\tconst toggleShow = () => setShow(!show);\r\n\tconst Comp = <Confirmation show={show} onSuccess={onSuccess} text={text} toggleShow={toggleShow} />;\r\n\treturn { toggleShow, Confirmation: Comp };\r\n};\r\n\r\nexport default useConfirmation;\r\n","const months = [\r\n   \"January\",\r\n   \"February\",\r\n   \"March\",\r\n   \"April\",\r\n   \"May\",\r\n   \"June\",\r\n   \"July\",\r\n   \"August\",\r\n   \"September\",\r\n   \"October\",\r\n   \"November\",\r\n   \"December\",\r\n];\r\n\r\nexport { months };\r\n","import { months } from \"../DATE\";\r\n\r\nconst getDateString = date => {\r\n\tif (!date) return \"\";\r\n\tlet newDate = new Date(date);\r\n\tnewDate = `${newDate.getDate()} ${months[newDate.getMonth()]} ${newDate.getFullYear()}`;\r\n\treturn newDate;\r\n};\r\n\r\nexport default getDateString;\r\n","import React from \"react\";\r\nimport { dp } from \"../../assets\";\r\nimport { AiFillHeart } from \"react-icons/ai\";\r\n\r\nexport const Post = ({ singlepost }) => (\r\n\t<article className={singlepost ? \"post halfborder single\" : \"post gradient-border\"}>\r\n\t\t<header>\r\n\t\t\t<img src={dp} alt=\"profileImage\" className=\"post__dp roundimage\" />\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"loadingBox\" style={{ width: \"70px\", height: \"10px\" }}></div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"loadingBox\"\r\n\t\t\t\t\tstyle={{ width: \"100px\", height: \"10px\", marginTop: \"0.5em\" }}\r\n\t\t\t\t></div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t\t<div className=\"post__details\">\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"loadingBox\"\r\n\t\t\t\tstyle={{ width: \"100%\", height: singlepost ? \"60vh\" : \"400px\", borderRadius: \"1em\" }}\r\n\t\t\t></div>\r\n\t\t</div>\r\n\t\t<div className=\"post__footer\">\r\n\t\t\t<div className=\"group\">\r\n\t\t\t\t<AiFillHeart />\r\n\t\t\t\t<div className=\"loadingBox\" style={{ width: \"250px\", height: \"20px\" }}></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</article>\r\n);\r\n\r\nconst Loading = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Post />\r\n\t\t\t<Post />\r\n\t\t\t<Post />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport { AiOutlineTwitter } from \"react-icons/ai\";\r\nimport { IoLogoWhatsapp } from \"react-icons/io\";\r\nimport { BsFacebook } from \"react-icons/bs\";\r\nimport { FaLinkedinIn } from \"react-icons/fa\";\r\nimport { ImEmbed } from \"react-icons/im\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { showModal } from \"../../features/modalSlice\";\r\n\r\nconst ShareItem = ({ item }) => {\r\n\tconst { onClick, Icon, title } = item;\r\n\treturn (\r\n\t\t<div className=\"share__item\" onClick={onClick}>\r\n\t\t\t<Icon />\r\n\t\t\t<p>{title}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst Share = ({ post }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst copyURL = () => {\r\n\t\twindow.navigator.clipboard.writeText(`https://adra-amie.netlify.app/post/${post._id}`);\r\n\t\tdispatch(showModal({ msg: \"URL copied to clipboard\" }));\r\n\t};\r\n\r\n\tconst copyEmbed = () => {\r\n\t\twindow.navigator.clipboard.writeText(\r\n\t\t\t`<iframe\r\n\t\t\t\tsrc=\"https://adra-amie.netlify.app/post/${post._id}?embed=true\"\r\n\t\t\t\twidth=\"500\"\r\n\t\t\t\theight=\"700\"\r\n\t\t\t\ttitle=\"social-media-app\"\r\n\t\t\t></iframe>`\r\n\t\t);\r\n\t\tdispatch(showModal({ msg: \"Copied embed code to clipboard\" }));\r\n\t};\r\n\r\n\tconst shareToUrls = {\r\n\t\ttwitter: `https://twitter.com/intent/tweet?text=${post.caption}&url=https://adra-amie.netlify.app/post/${post._id}`,\r\n\t\tfacebook: `https://www.facebook.com/dialog/share?\r\n\t\tapp_id=287203076842060\r\n\t\t&display=popup\r\n\t\t&href=https://adra-amie.netlify.app/post/${post._id}\r\n\t\t&redirect_uri=https://adra-amie.netlify.app/post/${post._id}`,\r\n\t\tlinkedin: `https://www.linkedin.com/sharing/share-offsite/?url=https://adra-amie.netlify.app/post/${post._id}`,\r\n\t\twhatsapp: `https://api.whatsapp.com/send/?text=${post.caption} Link: https://adra-amie.netlify.app/post/${post._id}`,\r\n\t};\r\n\r\n\tconst shareTo = dest => {\r\n\t\twindow.open(shareToUrls[dest], \"_blank\");\r\n\t};\r\n\r\n\tconst shareItems = [\r\n\t\t{\r\n\t\t\ttitle: \"Embed\",\r\n\t\t\tonClick: copyEmbed,\r\n\t\t\tIcon: ImEmbed,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Whatsapp\",\r\n\t\t\tonClick: () => shareTo(\"whatsapp\"),\r\n\t\t\tIcon: IoLogoWhatsapp,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Facebook\",\r\n\t\t\tonClick: () => shareTo(\"facebook\"),\r\n\t\t\tIcon: BsFacebook,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Twitter\",\r\n\t\t\tonClick: () => shareTo(\"twitter\"),\r\n\t\t\tIcon: AiOutlineTwitter,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Linked In\",\r\n\t\t\tonClick: () => shareTo(\"linkedin\"),\r\n\t\t\tIcon: FaLinkedinIn,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<article className=\"share\">\r\n\t\t\t<h2>Share</h2>\r\n\t\t\t<div className=\"share__items\">\r\n\t\t\t\t{shareItems.map((item, i) => (\r\n\t\t\t\t\t<ShareItem item={item} key={i} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"share__url\">\r\n\t\t\t\t{post._id}\r\n\t\t\t\t<button className=\"btn\" onClick={copyURL}>\r\n\t\t\t\t\tCopy URL\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nexport default Share;\r\n","import React from \"react\";\r\nimport { closeIcon } from \"../../assets\";\r\n\r\nconst ImageViewer = ({ image, onClose }) => {\r\n\treturn (\r\n\t\t<div className=\"imageViewer\">\r\n\t\t\t<button onClick={onClose} aria-label=\"close\">\r\n\t\t\t\t<img src={closeIcon} alt=\"close\" />\r\n\t\t\t</button>\r\n\t\t\t<img src={image} alt=\"post\" />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImageViewer;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deletePost, setEditingPost, commentPost, likePost } from \"../../features/postSlice\";\r\nimport { dp } from \"../../assets\";\r\nimport Input from \"../Input/Input\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport Options from \"../Options/Options\";\r\nimport \"./post.css\";\r\nimport { AiOutlineHeart, AiFillHeart } from \"react-icons/ai\";\r\nimport { BiCommentDetail } from \"react-icons/bi\";\r\nimport { IoIosShareAlt } from \"react-icons/io\";\r\nimport getDateString from \"../../utils/getDateString\";\r\nimport Share from \"./Share\";\r\nimport { useState } from \"react\";\r\nimport Backdrop from \"../Backdrop/Backdrop\";\r\nimport ImageViewer from \"./ImageViewer\";\r\nimport useConfirmation from \"../Confirmation/useConfirmation\";\r\n\r\nconst Post = ({ singlepost, post }) => {\r\n\tconst createdAt = getDateString(post.createdAt);\r\n\tconst [showShare, setShowShare] = useState(false);\r\n\tconst [showImage, setShowImage] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst customFetch = useFetch();\r\n\tconst navigate = useNavigate();\r\n\r\n\t//global states\r\n\tconst {\r\n\t\tuser: { id },\r\n\t\tusers: { usersOnline },\r\n\t} = useSelector(state => state);\r\n\tconst isOwnPost = id === post.createdBy;\r\n\tconst isLiked = post.likes?.includes(id);\r\n\tconst isOnline = usersOnline.some(user => user.id === post.createdBy);\r\n\r\n\tconst likeHandler = () => {\r\n\t\tdispatch(likePost({ customFetch, id: post._id, isLiked }));\r\n\t};\r\n\r\n\tconst commentHandler = comment => {\r\n\t\tdispatch(commentPost({ customFetch, id: post._id, comment }));\r\n\t};\r\n\r\n\tconst deleteHandler = () => {\r\n\t\tdispatch(deletePost({ customFetch, id: post._id }));\r\n\t\tsinglepost && navigate(-1);\r\n\t};\r\n\r\n\tconst editHandler = () => {\r\n\t\tdispatch(setEditingPost(post));\r\n\t};\r\n\r\n\tconst { Confirmation, toggleShow } = useConfirmation(\r\n\t\tdeleteHandler,\r\n\t\t\"Are you sure, You want to delete the post?\"\r\n\t);\r\n\r\n\tconst options = {\r\n\t\tDelete: toggleShow,\r\n\t\tEdit: editHandler,\r\n\t};\r\n\r\n\tconst getParagraphs = text => {\r\n\t\tconst paragraphArray = text.split(/[\\n\\r]/g);\r\n\t\treturn paragraphArray.map(\r\n\t\t\t(para, i) =>\r\n\t\t\t\tpara && (\r\n\t\t\t\t\t<p className=\"post__caption\" key={i}>\r\n\t\t\t\t\t\t{para}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst getNumberOfLikes = () => {\r\n\t\tif (post.likes?.length) {\r\n\t\t\treturn post.likes?.includes(id)\r\n\t\t\t\t? post.likes?.length - 1 === 0\r\n\t\t\t\t\t? \"You\"\r\n\t\t\t\t\t: post.likes?.length - 1 === 1\r\n\t\t\t\t\t? \"You and 1 more\"\r\n\t\t\t\t\t: `You and ${post.likes.length - 1} others`\r\n\t\t\t\t: post.likes?.length;\r\n\t\t}\r\n\t\treturn \"\";\r\n\t};\r\n\r\n\tconst postDetails = () => {\r\n\t\tconst toggleImage = () => setShowImage(!showImage);\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{post.caption && getParagraphs(post.caption)}\r\n\t\t\t\t{singlepost && (\r\n\t\t\t\t\t<Backdrop show={showImage} onClose={toggleImage}>\r\n\t\t\t\t\t\t<ImageViewer image={post.image?.src} />\r\n\t\t\t\t\t</Backdrop>\r\n\t\t\t\t)}\r\n\t\t\t\t{post.image?.src && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={post.image.src}\r\n\t\t\t\t\t\talt=\"post_image\"\r\n\t\t\t\t\t\tclassName=\"post__image\"\r\n\t\t\t\t\t\tloading=\"lazy\"\r\n\t\t\t\t\t\tonClick={toggleImage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<article className={singlepost ? \"post halfborder single\" : \"post gradient-border\"}>\r\n\t\t\t{Confirmation}\r\n\t\t\t<Backdrop show={showShare} onClose={() => setShowShare(false)}>\r\n\t\t\t\t<Share post={post} />\r\n\t\t\t</Backdrop>\r\n\t\t\t<header>\r\n\t\t\t\t<Link to={`/user/${post.createdBy}`} className={isOnline ? \"green\" : \"\"}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={post.userDetails?.image || dp}\r\n\t\t\t\t\t\talt=\"profileImage\"\r\n\t\t\t\t\t\tloading=\"lazy\"\r\n\t\t\t\t\t\tclassName=\"post__dp roundimage\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3>{post.userDetails?.name}</h3>\r\n\t\t\t\t\t<p>{createdAt}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{isOwnPost && <Options options={options} id={post._id} />}\r\n\t\t\t</header>\r\n\t\t\t<div className=\"post__details\">\r\n\t\t\t\t{singlepost ? postDetails() : <Link to={`/post/${post._id}`}>{postDetails()}</Link>}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"post__footer\">\r\n\t\t\t\t<div className=\"group\">\r\n\t\t\t\t\t<div onClick={likeHandler}>{isLiked ? <AiFillHeart /> : <AiOutlineHeart />}</div>\r\n\t\t\t\t\t<p>{getNumberOfLikes()}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{singlepost || <Input placeholder={\"Comment\"} handler={commentHandler} />}\r\n\t\t\t\t<Link className={singlepost ? \"comment__icon group\" : \"group\"} to={`/post/${post._id}`}>\r\n\t\t\t\t\t<BiCommentDetail />\r\n\t\t\t\t\t<p>{post.comments.length}</p>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"group\" onClick={() => setShowShare(true)} title=\"share\">\r\n\t\t\t\t\t<IoIosShareAlt />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nexport default Post;\r\n","import React, { useCallback, useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\n\r\nconst InfinityScroll = ({ getNextPage, children, offset = 10 }) => {\r\n\tconst contentRef = useRef();\r\n\tconst [isFinished, setIsFinished] = useState(false);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst handler = useCallback(async () => {\r\n\t\tconst content = contentRef.current;\r\n\t\tif (!content) return;\r\n\t\tconst { height, top } = content.getBoundingClientRect();\r\n\t\tconst remainingSpaceAtBottom = window.innerHeight + top * -1 - height;\r\n\t\tconst isReachedBottom = remainingSpaceAtBottom > offset;\r\n\t\tif (isReachedBottom && !isFinished && !isLoading) {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tconst length = await getNextPage();\r\n\t\t\tif (!length) setIsFinished(true);\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t}, [isLoading, isFinished, offset, getNextPage]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"scroll\", handler);\r\n\t\treturn () => document.removeEventListener(\"scroll\", handler);\r\n\t}, [handler]);\r\n\r\n\treturn (\r\n\t\t<div className=\"infinityScroll\">\r\n\t\t\t<div className=\"infinityScroll__content\" ref={contentRef}>\r\n\t\t\t\t{children}\r\n\t\t\t\t{!isFinished && isLoading && <div className=\"loading__circle\" />}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default InfinityScroll;\r\n","import React from \"react\";\r\nimport Loading from \"./Loading\";\r\nimport Post from \"./Post\";\r\n\r\nconst Posts = ({ posts, isLoading }) => {\r\n\treturn (\r\n\t\t<div className=\"posts\">\r\n\t\t\t{isLoading ? <Loading /> : posts.map(post => <Post post={post} key={post._id} />)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { update } from \"../../features/userSlice\";\r\nimport { showModal } from \"../../features/modalSlice\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport \"./setupprofile.css\";\r\nimport { useEffect } from \"react\";\r\nimport { updateUserService } from \"../../services/userServices\";\r\nimport { getUsers } from \"../../features/usersSlice\";\r\n\r\nconst SetupProfile = ({ close, user }) => {\r\n\tconst [userDetails, setUserDetails] = useState({ name: \"\", about: \"\", location: \"\" });\r\n\r\n\tuseEffect(() => {\r\n\t\tuser._id &&\r\n\t\t\tsetUserDetails({\r\n\t\t\t\tname: user.name || \"\",\r\n\t\t\t\tabout: user.about || \"\",\r\n\t\t\t\tlocation: user.location || \"\",\r\n\t\t\t});\r\n\t}, [user]);\r\n\r\n\tconst _updateUser = (key, e) => {\r\n\t\tsetUserDetails(user => ({\r\n\t\t\t...user,\r\n\t\t\t[key]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst customFetch = useFetch();\r\n\r\n\tconst clickHandler = async e => {\r\n\t\te.preventDefault();\r\n\t\tconst data = await customFetch(updateUserService, userDetails);\r\n\t\tif (data) {\r\n\t\t\tdispatch(getUsers({ customFetch }));\r\n\t\t\tclose();\r\n\t\t\tdispatch(update({ name: data.user.name, id: data.user._id }));\r\n\t\t\tdispatch(showModal({ msg: \"Success\" }));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={clickHandler} className=\"setup\">\r\n\t\t\t<label htmlFor=\"\">Username</label>\r\n\t\t\t<input type=\"text\" value={userDetails.name} required onChange={e => _updateUser(\"name\", e)} />\r\n\t\t\t<label htmlFor=\"\">About</label>\r\n\t\t\t<input type=\"text\" value={userDetails.about} onChange={e => _updateUser(\"about\", e)} />\r\n\t\t\t<label htmlFor=\"\">Location</label>\r\n\t\t\t<input type=\"text\" value={userDetails.location} onChange={e => _updateUser(\"location\", e)} />\r\n\t\t\t<button type=\"submit\">Continue</button>\r\n\t\t\t<button onClick={close} type=\"reset\">\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default SetupProfile;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { update } from \"../../features/userSlice\";\r\nimport { showModal } from \"../../features/modalSlice\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport Compress from \"compress.js\";\r\nimport { updateDPService } from \"../../services/userServices\";\r\nimport \"./imageupload.css\";\r\nimport { getUsers } from \"../../features/usersSlice\";\r\n\r\nconst ImageUpload = ({ close }) => {\r\n\tconst [image, setImage] = useState(null);\r\n\tconst [preview, setPreview] = useState(null);\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst customFetch = useFetch();\r\n\tconst compress = new Compress();\r\n\r\n\tconst loadImage = e => {\r\n\t\tconst input = e.target;\r\n\t\tif (!input) return;\r\n\t\tvar reader = new FileReader();\r\n\t\treader.onload = function (e) {\r\n\t\t\tsetPreview(e.target.result);\r\n\t\t};\r\n\t\tinput.files[0] && reader.readAsDataURL(input.files[0]);\r\n\t\tconst files = [...input.files];\r\n\t\tcompress\r\n\t\t\t.compress(files, {\r\n\t\t\t\tsize: 0.5,\r\n\t\t\t\tquality: 0.75,\r\n\t\t\t\tmaxWidth: 1000,\r\n\t\t\t\tmaxHeight: 1000,\r\n\t\t\t\tresize: true,\r\n\t\t\t\trotate: false,\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tsetImage(Compress.convertBase64ToFile(data[0]?.data, data[0]?.ext));\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst submitHandler = async e => {\r\n\t\te.preventDefault();\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"image\", image);\r\n\t\tdispatch(showModal({}));\r\n\t\tconst data = await customFetch(updateDPService, formData);\r\n\t\tif (data) {\r\n\t\t\tdispatch(getUsers({ customFetch }));\r\n\t\t\tdispatch(update({ profileImage: data.user.profileImage, id: data.user._id }));\r\n\t\t\tclose();\r\n\t\t\tdispatch(showModal({ msg: \"Success\" }));\r\n\t\t\tsetImage(null);\r\n\t\t\tsetPreview(null);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={submitHandler} className=\"imageupload\">\r\n\t\t\t{preview && <img src={preview} alt=\"upload-preview\" />}\r\n\t\t\t<div className=\"btns\">\r\n\t\t\t\t<label htmlFor=\"dp-image\">Upload</label>\r\n\t\t\t\t<input type=\"file\" id=\"dp-image\" accept=\"image/png, image/jpeg\" onChange={loadImage} />\r\n\t\t\t\t{image && <button type=\"submit\">Submit</button>}\r\n\t\t\t\t<button onClick={close} type=\"reset\">\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default ImageUpload;\r\n","import React, { useState } from \"react\";\r\nimport { dp, clockIcon, cakeIcon, locationIcon, mailIcon, cameraIcon } from \"../../assets\";\r\nimport SetupProfile from \"../SetupProfile/SetupProfile\";\r\nimport ImageUpload from \"../ImageUpload/ImageUpload\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { createChat } from \"../../features/messageSlice\";\r\nimport Backdrop from \"../Backdrop/Backdrop\";\r\nimport { setIsLoading, showModal } from \"../../features/modalSlice\";\r\nimport \"./profilecard.css\";\r\nimport { logout } from \"../../features/userSlice\";\r\nimport getDateString from \"../../utils/getDateString\";\r\n\r\nconst ProfileCard = ({ id, isOwnProfile }) => {\r\n\tconst {\r\n\t\tusers: { users },\r\n\t\tuser: { isGuest },\r\n\t} = useSelector(state => state);\r\n\tconst user = users.find(user => user._id === id) || {};\r\n\tconst [isEditing, setIsEditing] = useState(false);\r\n\tconst [isUploading, setIsUploading] = useState(false);\r\n\r\n\tconst customFetch = useFetch();\r\n\tconst dispatch = useDispatch();\r\n\tconst navigate = useNavigate();\r\n\r\n\tlet { name, email, about, dob, location, createdAt, profileImage } = user;\r\n\tcreatedAt = `Joined on ${getDateString(createdAt)}`;\r\n\tdob = getDateString(dob);\r\n\r\n\tconst sendMessage = async () => {\r\n\t\tif (isGuest) return dispatch(showModal({ msg: \"Please log in to continue\" }));\r\n\t\tdispatch(setIsLoading(true));\r\n\t\tdispatch(createChat({ customFetch, id })).then(() => {\r\n\t\t\tif (window.innerWidth < 801) navigate(\"/chat/messenger\");\r\n\t\t\telse navigate(\"/chat\");\r\n\t\t\tdispatch(setIsLoading(false));\r\n\t\t});\r\n\t};\r\n\r\n\tconst hideUploading = () => {\r\n\t\tsetIsUploading(false);\r\n\t};\r\n\tconst hideEditing = () => {\r\n\t\tsetIsEditing(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section className=\"profilecard gradient-border\">\r\n\t\t\t{isOwnProfile && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Backdrop show={isEditing} onClose={hideEditing}>\r\n\t\t\t\t\t\t<SetupProfile close={hideEditing} user={user} />\r\n\t\t\t\t\t</Backdrop>\r\n\t\t\t\t\t<Backdrop show={isUploading} onClose={hideUploading}>\r\n\t\t\t\t\t\t<ImageUpload close={hideUploading} />\r\n\t\t\t\t\t</Backdrop>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t<header>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={profileImage || dp}\r\n\t\t\t\t\t\talt=\"profile_image\"\r\n\t\t\t\t\t\tclassName=\"profilecard__dp roundimage\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{isOwnProfile && (\r\n\t\t\t\t\t\t<div className=\"dp-upload\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={cameraIcon}\r\n\t\t\t\t\t\t\t\talt=\"change_profile_image\"\r\n\t\t\t\t\t\t\t\tonClick={() => setIsUploading(true)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<h1>{name || \"User\"}</h1>\r\n\t\t\t\t<h2>{about || \"About\"}</h2>\r\n\t\t\t</header>\r\n\t\t\t<article>\r\n\t\t\t\t<div className=\"profilecard__info\">\r\n\t\t\t\t\t<img src={clockIcon} alt=\"join date\" />\r\n\t\t\t\t\t<h3>{createdAt}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"profilecard__info\">\r\n\t\t\t\t\t<img src={locationIcon} alt=\"location\" />\r\n\t\t\t\t\t<h3>{location}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"profilecard__info\">\r\n\t\t\t\t\t<img src={mailIcon} alt=\"mail\" />\r\n\t\t\t\t\t<h3>{email}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"profilecard__info\">\r\n\t\t\t\t\t<img src={cakeIcon} alt=\"date of birth\" />\r\n\t\t\t\t\t<h3>{dob}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t</article>\r\n\t\t\t{isOwnProfile ? (\r\n\t\t\t\t<div className=\"btn-group\">\r\n\t\t\t\t\t<button onClick={() => dispatch(logout())}>Logout</button>\r\n\t\t\t\t\t<button onClick={() => setIsEditing(true)}>Edit Profile</button>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"btn-group\">\r\n\t\t\t\t\t<button onClick={sendMessage}>Message</button>\r\n\t\t\t\t\t<button disabled>Add Friend</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default ProfileCard;\r\n"],"sourceRoot":""}