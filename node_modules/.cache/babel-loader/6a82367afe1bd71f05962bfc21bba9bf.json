{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\samth\\\\repomain-1\\\\src\\\\components\\\\ChatCard\\\\ChatCard.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { dp } from \"../../assets\";\nimport { clearMessage, setChatID, setMessages, setReceiverID } from \"../../features/messageSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport useFetch from \"../../hooks/useFetch\";\nimport { fetchMessagesService } from \"../../services/messageServices\";\nimport \"./chatcard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatCard = _ref => {\n  _s();\n  let {\n    chat\n  } = _ref;\n  const {\n    userDetails\n  } = chat;\n  const {\n    message: {\n      conversationID\n    },\n    users: {\n      usersOnline\n    },\n    user: {\n      id\n    }\n  } = useSelector(state => state);\n  const active = conversationID === chat._id;\n  const dispatch = useDispatch();\n  const customFetch = useFetch();\n  const navigate = useNavigate();\n  const setChat = () => {\n    dispatch(setReceiverID(userDetails._id));\n    dispatch(clearMessage());\n    dispatch(setChatID(chat._id));\n    if (window.innerWidth < 801) navigate(\"/chat/messenger\");\n    customFetch(fetchMessagesService, {\n      chatId: chat._id\n    }).then(data => {\n      dispatch(setMessages({\n        messages: data.messages,\n        id\n      }));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: active ? \"active chatcard\" : \"chatcard\",\n    onClick: setChat,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: usersOnline.some(u => u.id === userDetails._id) ? \"green chatcard__dp\" : \"chatcard__dp\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: userDetails.profileImage || dp,\n        alt: \"\",\n        className: \"roundimage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: userDetails.name || \"User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: chat.lastMessage || \"Send a hi...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 3\n  }, this);\n};\n_s(ChatCard, \"RfqKgTAyO626zS5/rGZ4KncvGC0=\", false, function () {\n  return [useSelector, useDispatch, useFetch, useNavigate];\n});\n_c = ChatCard;\nexport default ChatCard;\nvar _c;\n$RefreshReg$(_c, \"ChatCard\");","map":{"version":3,"names":["React","useDispatch","useSelector","dp","clearMessage","setChatID","setMessages","setReceiverID","useNavigate","useFetch","fetchMessagesService","ChatCard","chat","userDetails","message","conversationID","users","usersOnline","user","id","state","active","_id","dispatch","customFetch","navigate","setChat","window","innerWidth","chatId","then","data","messages","some","u","profileImage","name","lastMessage"],"sources":["C:/Users/samth/repomain-1/src/components/ChatCard/ChatCard.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { dp } from \"../../assets\";\r\nimport { clearMessage, setChatID, setMessages, setReceiverID } from \"../../features/messageSlice\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport { fetchMessagesService } from \"../../services/messageServices\";\r\nimport \"./chatcard.css\";\r\n\r\nconst ChatCard = ({ chat }) => {\r\n\tconst { userDetails } = chat;\r\n\tconst {\r\n\t\tmessage: { conversationID },\r\n\t\tusers: { usersOnline },\r\n\t\tuser: { id },\r\n\t} = useSelector(state => state);\r\n\r\n\tconst active = conversationID === chat._id;\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst customFetch = useFetch();\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst setChat = () => {\r\n\t\tdispatch(setReceiverID(userDetails._id));\r\n\t\tdispatch(clearMessage());\r\n\t\tdispatch(setChatID(chat._id));\r\n\t\tif (window.innerWidth < 801) navigate(\"/chat/messenger\");\r\n\t\tcustomFetch(fetchMessagesService, { chatId: chat._id }).then(data => {\r\n\t\t\tdispatch(setMessages({ messages: data.messages, id }));\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<article className={active ? \"active chatcard\" : \"chatcard\"} onClick={setChat}>\r\n\t\t\t<div\r\n\t\t\t\tclassName={usersOnline.some(u => u.id === userDetails._id) ? \"green chatcard__dp\" : \"chatcard__dp\"}\r\n\t\t\t>\r\n\t\t\t\t<img src={userDetails.profileImage || dp} alt=\"\" className=\"roundimage\" />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>{userDetails.name || \"User\"}</h2>\r\n\t\t\t\t<p>{chat.lastMessage || \"Send a hi...\"}</p>\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nexport default ChatCard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,EAAE,QAAQ,cAAc;AACjC,SAASC,YAAY,EAAEC,SAAS,EAAEC,WAAW,EAAEC,aAAa,QAAQ,6BAA6B;AACjG,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,SAASC,oBAAoB,QAAQ,gCAAgC;AACrE,OAAO,gBAAgB;AAAC;AAExB,MAAMC,QAAQ,GAAG,QAAc;EAAA;EAAA,IAAb;IAAEC;EAAK,CAAC;EACzB,MAAM;IAAEC;EAAY,CAAC,GAAGD,IAAI;EAC5B,MAAM;IACLE,OAAO,EAAE;MAAEC;IAAe,CAAC;IAC3BC,KAAK,EAAE;MAAEC;IAAY,CAAC;IACtBC,IAAI,EAAE;MAAEC;IAAG;EACZ,CAAC,GAAGjB,WAAW,CAACkB,KAAK,IAAIA,KAAK,CAAC;EAE/B,MAAMC,MAAM,GAAGN,cAAc,KAAKH,IAAI,CAACU,GAAG;EAE1C,MAAMC,QAAQ,GAAGtB,WAAW,EAAE;EAC9B,MAAMuB,WAAW,GAAGf,QAAQ,EAAE;EAC9B,MAAMgB,QAAQ,GAAGjB,WAAW,EAAE;EAE9B,MAAMkB,OAAO,GAAG,MAAM;IACrBH,QAAQ,CAAChB,aAAa,CAACM,WAAW,CAACS,GAAG,CAAC,CAAC;IACxCC,QAAQ,CAACnB,YAAY,EAAE,CAAC;IACxBmB,QAAQ,CAAClB,SAAS,CAACO,IAAI,CAACU,GAAG,CAAC,CAAC;IAC7B,IAAIK,MAAM,CAACC,UAAU,GAAG,GAAG,EAAEH,QAAQ,CAAC,iBAAiB,CAAC;IACxDD,WAAW,CAACd,oBAAoB,EAAE;MAAEmB,MAAM,EAAEjB,IAAI,CAACU;IAAI,CAAC,CAAC,CAACQ,IAAI,CAACC,IAAI,IAAI;MACpER,QAAQ,CAACjB,WAAW,CAAC;QAAE0B,QAAQ,EAAED,IAAI,CAACC,QAAQ;QAAEb;MAAG,CAAC,CAAC,CAAC;IACvD,CAAC,CAAC;EACH,CAAC;EAED,oBACC;IAAS,SAAS,EAAEE,MAAM,GAAG,iBAAiB,GAAG,UAAW;IAAC,OAAO,EAAEK,OAAQ;IAAA,wBAC7E;MACC,SAAS,EAAET,WAAW,CAACgB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACf,EAAE,KAAKN,WAAW,CAACS,GAAG,CAAC,GAAG,oBAAoB,GAAG,cAAe;MAAA,uBAEnG;QAAK,GAAG,EAAET,WAAW,CAACsB,YAAY,IAAIhC,EAAG;QAAC,GAAG,EAAC,EAAE;QAAC,SAAS,EAAC;MAAY;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QACrE,eACN;MAAA,wBACC;QAAA,UAAKU,WAAW,CAACuB,IAAI,IAAI;MAAM;QAAA;QAAA;QAAA;MAAA,QAAM,eACrC;QAAA,UAAIxB,IAAI,CAACyB,WAAW,IAAI;MAAc;QAAA;QAAA;QAAA;MAAA,QAAK;IAAA;MAAA;MAAA;MAAA;IAAA,QACtC;EAAA;IAAA;IAAA;IAAA;EAAA,QACG;AAEZ,CAAC;AAAC,GArCI1B,QAAQ;EAAA,QAMTT,WAAW,EAIED,WAAW,EACRQ,QAAQ,EACXD,WAAW;AAAA;AAAA,KAZvBG,QAAQ;AAuCd,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module"}