{"ast":null,"code":"import React from\"react\";import getDateString from\"../../utils/getDateString\";import\"./singlechat.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const SingleChat=_ref=>{var _messages,_messages2;let{message,index,messages}=_ref;const today=new Date();const createdAt=new Date(message.createdAt);const prevMessageDate=messages[index-1]&&new Date((_messages=messages[index-1])===null||_messages===void 0?void 0:_messages.createdAt);const diff=today.getDate()-createdAt.getDate();const formattedDate=getDateString(createdAt);const date=diff===1?\"YESTERDAY\":diff===0?\"TODAY\":formattedDate;const showDate=prevMessageDate?createdAt.getDate()-prevMessageDate.getDate()>0?true:false:true;const getTime=()=>{return\"\".concat(createdAt.getHours(),\":\").concat(createdAt.getMinutes()>9?createdAt.getMinutes():\"0\"+createdAt.getMinutes());};const isEmoji=message.text.length===2&&!message.text.match(/\\w/);return/*#__PURE__*/_jsxs(_Fragment,{children:[showDate&&/*#__PURE__*/_jsx(\"h4\",{children:date}),/*#__PURE__*/_jsx(\"div\",{className:message.send?\"chat__sent\":\"chat__recieve\",children:/*#__PURE__*/_jsxs(\"p\",{className:isEmoji?\"emoji message\":\"message\",children:[message.text,((_messages2=messages[index+1])===null||_messages2===void 0?void 0:_messages2.send)!==message.send&&/*#__PURE__*/_jsx(\"span\",{className:\"time\",children:getTime()})]})})]});};export default SingleChat;","map":{"version":3,"names":["React","getDateString","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SingleChat","_ref","_messages","_messages2","message","index","messages","today","Date","createdAt","prevMessageDate","diff","getDate","formattedDate","date","showDate","getTime","concat","getHours","getMinutes","isEmoji","text","length","match","children","className","send"],"sources":["C:/Users/samth/repomain-1/src/components/SingleChat/SingleChat.jsx"],"sourcesContent":["import React from \"react\";\r\nimport getDateString from \"../../utils/getDateString\";\r\nimport \"./singlechat.css\";\r\n\r\nconst SingleChat = ({ message, index, messages }) => {\r\n\tconst today = new Date();\r\n\tconst createdAt = new Date(message.createdAt);\r\n\tconst prevMessageDate = messages[index - 1] && new Date(messages[index - 1]?.createdAt);\r\n\tconst diff = today.getDate() - createdAt.getDate();\r\n\tconst formattedDate = getDateString(createdAt);\r\n\r\n\tconst date = diff === 1 ? \"YESTERDAY\" : diff === 0 ? \"TODAY\" : formattedDate;\r\n\tconst showDate = prevMessageDate\r\n\t\t? createdAt.getDate() - prevMessageDate.getDate() > 0\r\n\t\t\t? true\r\n\t\t\t: false\r\n\t\t: true;\r\n\r\n\tconst getTime = () => {\r\n\t\treturn `${createdAt.getHours()}:${\r\n\t\t\tcreatedAt.getMinutes() > 9 ? createdAt.getMinutes() : \"0\" + createdAt.getMinutes()\r\n\t\t}`;\r\n\t};\r\n\r\n\tconst isEmoji = message.text.length === 2 && !message.text.match(/\\w/);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showDate && <h4>{date}</h4>}\r\n\t\t\t<div className={message.send ? \"chat__sent\" : \"chat__recieve\"}>\r\n\t\t\t\t<p className={isEmoji ? \"emoji message\" : \"message\"}>\r\n\t\t\t\t\t{message.text}\r\n\t\t\t\t\t{messages[index + 1]?.send !== message.send && <span className=\"time\">{getTime()}</span>}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default SingleChat;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,2BAA2B,CACrD,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1B,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAkC,KAAAC,SAAA,CAAAC,UAAA,IAAjC,CAAEC,OAAO,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAAL,IAAA,CAC/C,KAAM,CAAAM,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACxB,KAAM,CAAAC,SAAS,CAAG,GAAI,CAAAD,IAAI,CAACJ,OAAO,CAACK,SAAS,CAAC,CAC7C,KAAM,CAAAC,eAAe,CAAGJ,QAAQ,CAACD,KAAK,CAAG,CAAC,CAAC,EAAI,GAAI,CAAAG,IAAI,EAAAN,SAAA,CAACI,QAAQ,CAACD,KAAK,CAAG,CAAC,CAAC,UAAAH,SAAA,iBAAnBA,SAAA,CAAqBO,SAAS,CAAC,CACvF,KAAM,CAAAE,IAAI,CAAGJ,KAAK,CAACK,OAAO,CAAC,CAAC,CAAGH,SAAS,CAACG,OAAO,CAAC,CAAC,CAClD,KAAM,CAAAC,aAAa,CAAGpB,aAAa,CAACgB,SAAS,CAAC,CAE9C,KAAM,CAAAK,IAAI,CAAGH,IAAI,GAAK,CAAC,CAAG,WAAW,CAAGA,IAAI,GAAK,CAAC,CAAG,OAAO,CAAGE,aAAa,CAC5E,KAAM,CAAAE,QAAQ,CAAGL,eAAe,CAC7BD,SAAS,CAACG,OAAO,CAAC,CAAC,CAAGF,eAAe,CAACE,OAAO,CAAC,CAAC,CAAG,CAAC,CAClD,IAAI,CACJ,KAAK,CACN,IAAI,CAEP,KAAM,CAAAI,OAAO,CAAGA,CAAA,GAAM,CACrB,SAAAC,MAAA,CAAUR,SAAS,CAACS,QAAQ,CAAC,CAAC,MAAAD,MAAA,CAC7BR,SAAS,CAACU,UAAU,CAAC,CAAC,CAAG,CAAC,CAAGV,SAAS,CAACU,UAAU,CAAC,CAAC,CAAG,GAAG,CAAGV,SAAS,CAACU,UAAU,CAAC,CAAC,EAEpF,CAAC,CAED,KAAM,CAAAC,OAAO,CAAGhB,OAAO,CAACiB,IAAI,CAACC,MAAM,GAAK,CAAC,EAAI,CAAClB,OAAO,CAACiB,IAAI,CAACE,KAAK,CAAC,IAAI,CAAC,CACtE,mBACC1B,KAAA,CAAAE,SAAA,EAAAyB,QAAA,EACET,QAAQ,eAAIpB,IAAA,OAAA6B,QAAA,CAAKV,IAAI,CAAK,CAAC,cAC5BnB,IAAA,QAAK8B,SAAS,CAAErB,OAAO,CAACsB,IAAI,CAAG,YAAY,CAAG,eAAgB,CAAAF,QAAA,cAC7D3B,KAAA,MAAG4B,SAAS,CAAEL,OAAO,CAAG,eAAe,CAAG,SAAU,CAAAI,QAAA,EAClDpB,OAAO,CAACiB,IAAI,CACZ,EAAAlB,UAAA,CAAAG,QAAQ,CAACD,KAAK,CAAG,CAAC,CAAC,UAAAF,UAAA,iBAAnBA,UAAA,CAAqBuB,IAAI,IAAKtB,OAAO,CAACsB,IAAI,eAAI/B,IAAA,SAAM8B,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAER,OAAO,CAAC,CAAC,CAAO,CAAC,EACtF,CAAC,CACA,CAAC,EACL,CAAC,CAEL,CAAC,CAED,cAAe,CAAAhB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}