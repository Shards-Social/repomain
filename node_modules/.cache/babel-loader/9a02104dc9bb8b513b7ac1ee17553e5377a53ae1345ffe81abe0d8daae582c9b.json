{"ast":null,"code":"import React,{useState}from\"react\";import{useDispatch}from\"react-redux\";import{setIsLoading}from\"../../features/modalSlice\";import{login}from\"../../features/userSlice\";import useFetch from\"../../hooks/useFetch\";import{registerService}from\"../../services/authServices\";import DataList from\"../DataList/DataList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const initialForm={name:\"\",password:\"\",email:\"\",dob:\"\"};const Register=_ref=>{let{setIsRegistering}=_ref;const[form,setForm]=useState(initialForm);const dispatch=useDispatch();const customFetch=useFetch();const registerHandler=async e=>{e.preventDefault();dispatch(setIsLoading(true));const data=await customFetch(registerService,form);if(data)dispatch(login(data));dispatch(setIsLoading(false));};const updateForm=(key,e)=>{setForm(form=>({...form,[key]:e.target.value}));};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:registerHandler,className:\"register\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",placeholder:\"johndoe@example.com\",value:form.email,required:true,onChange:e=>updateForm(\"email\",e)}),/*#__PURE__*/_jsx(DataList,{email:form.email,setEmail:value=>setForm(form=>({...form,email:value}))})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",placeholder:\"john doe\",value:form.name,required:true,onChange:e=>updateForm(\"name\",e)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dob\",children:\"Date of birth\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"dob\",required:true,value:form.dob,onChange:e=>updateForm(\"dob\",e)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"Top secret\",required:true,value:form.password,onChange:e=>updateForm(\"password\",e)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>setIsRegistering(false),children:\"Login\"})]})]});};export default Register;","map":{"version":3,"names":["React","useState","useDispatch","setIsLoading","login","useFetch","registerService","DataList","jsx","_jsx","jsxs","_jsxs","initialForm","name","password","email","dob","Register","_ref","setIsRegistering","form","setForm","dispatch","customFetch","registerHandler","e","preventDefault","data","updateForm","key","target","value","onSubmit","className","children","htmlFor","type","id","placeholder","required","onChange","setEmail","onClick"],"sources":["C:/Users/samth/repomain-1/src/components/Register/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setIsLoading } from \"../../features/modalSlice\";\r\nimport { login } from \"../../features/userSlice\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport { registerService } from \"../../services/authServices\";\r\nimport DataList from \"../DataList/DataList\";\r\n\r\nconst initialForm = { name: \"\", password: \"\", email: \"\", dob: \"\" };\r\n\r\nconst Register = ({ setIsRegistering }) => {\r\n\tconst [form, setForm] = useState(initialForm);\r\n\tconst dispatch = useDispatch();\r\n\tconst customFetch = useFetch();\r\n\r\n\tconst registerHandler = async e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(setIsLoading(true));\r\n\t\tconst data = await customFetch(registerService, form);\r\n\t\tif (data) dispatch(login(data));\r\n\t\tdispatch(setIsLoading(false));\r\n\t};\r\n\r\n\tconst updateForm = (key, e) => {\r\n\t\tsetForm(form => ({ ...form, [key]: e.target.value }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={registerHandler} className=\"register\">\r\n\t\t\t<div className=\"email\">\r\n\t\t\t\t<label htmlFor=\"email\">Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\tplaceholder=\"johndoe@example.com\"\r\n\t\t\t\t\tvalue={form.email}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonChange={e => updateForm(\"email\", e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<DataList email={form.email} setEmail={value => setForm(form => ({ ...form, email: value }))} />\r\n\t\t\t</div>\r\n\t\t\t<label htmlFor=\"name\">Username</label>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tid=\"name\"\r\n\t\t\t\tplaceholder=\"john doe\"\r\n\t\t\t\tvalue={form.name}\r\n\t\t\t\trequired\r\n\t\t\t\tonChange={e => updateForm(\"name\", e)}\r\n\t\t\t/>\r\n\t\t\t<label htmlFor=\"dob\">Date of birth</label>\r\n\t\t\t<input type=\"date\" id=\"dob\" required value={form.dob} onChange={e => updateForm(\"dob\", e)} />\r\n\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tid=\"password\"\r\n\t\t\t\tplaceholder=\"Top secret\"\r\n\t\t\t\trequired\r\n\t\t\t\tvalue={form.password}\r\n\t\t\t\tonChange={e => updateForm(\"password\", e)}\r\n\t\t\t/>\r\n\t\t\t<button type=\"submit\">Register</button>\r\n\t\t\t<p>\r\n\t\t\t\tAlready have an account? <span onClick={() => setIsRegistering(false)}>Login</span>\r\n\t\t\t</p>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}