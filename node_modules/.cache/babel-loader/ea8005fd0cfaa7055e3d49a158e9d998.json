{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { logout } from \"./userSlice\";\nconst initialState = {\n  modals: [],\n  isSidebarVisible: false,\n  isLoading: false\n};\nexport const showModal = createAsyncThunk(\"modal/show\", async (props, thunkAPI) => {\n  const {\n    fulfillWithValue,\n    dispatch\n  } = thunkAPI;\n  const msg = props.msg || \"Hold on I swear it won't take so long\";\n  const id = new Date().getTime();\n  const modal = {\n    msg,\n    id\n  };\n  setTimeout(() => {\n    dispatch(modalSlice.actions.hideModal(id));\n  }, 10000);\n  return fulfillWithValue(modal);\n});\nconst modalSlice = createSlice({\n  name: \"modal\",\n  initialState,\n  reducers: {\n    hideModal: (state, action) => {\n      state.modals = state.modals.filter(ele => ele.id !== action.payload);\n    },\n    toggleSidebar: (state, action) => {\n      state.isSidebarVisible = action.payload;\n    },\n    setIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    }\n  },\n  extraReducers: {\n    [showModal.fulfilled]: (state, action) => {\n      state.modals.push(action.payload);\n    },\n    [logout.type]: (state, action) => {\n      return initialState;\n    }\n  }\n});\nexport const {\n  hideModal,\n  toggleSidebar,\n  setIsLoading\n} = modalSlice.actions;\nexport default modalSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","logout","initialState","modals","isSidebarVisible","isLoading","showModal","props","thunkAPI","fulfillWithValue","dispatch","msg","id","Date","getTime","modal","setTimeout","modalSlice","actions","hideModal","name","reducers","state","action","filter","ele","payload","toggleSidebar","setIsLoading","extraReducers","fulfilled","push","type","reducer"],"sources":["C:/Users/samth/repomain-1/src/features/modalSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { logout } from \"./userSlice\";\r\n\r\nconst initialState = {\r\n\tmodals: [],\r\n\tisSidebarVisible: false,\r\n\tisLoading: false,\r\n};\r\n\r\nexport const showModal = createAsyncThunk(\"modal/show\", async (props, thunkAPI) => {\r\n\tconst { fulfillWithValue, dispatch } = thunkAPI;\r\n\tconst msg = props.msg || \"Hold on I swear it won't take so long\";\r\n\tconst id = new Date().getTime();\r\n\tconst modal = { msg, id };\r\n\tsetTimeout(() => {\r\n\t\tdispatch(modalSlice.actions.hideModal(id));\r\n\t}, 10000);\r\n\treturn fulfillWithValue(modal);\r\n});\r\n\r\nconst modalSlice = createSlice({\r\n\tname: \"modal\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\thideModal: (state, action) => {\r\n\t\t\tstate.modals = state.modals.filter(ele => ele.id !== action.payload);\r\n\t\t},\r\n\t\ttoggleSidebar: (state, action) => {\r\n\t\t\tstate.isSidebarVisible = action.payload;\r\n\t\t},\r\n\t\tsetIsLoading: (state, action) => {\r\n\t\t\tstate.isLoading = action.payload;\r\n\t\t},\r\n\t},\r\n\textraReducers: {\r\n\t\t[showModal.fulfilled]: (state, action) => {\r\n\t\t\tstate.modals.push(action.payload);\r\n\t\t},\r\n\t\t[logout.type]: (state, action) => {\r\n\t\t\treturn initialState;\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { hideModal, toggleSidebar, setIsLoading } = modalSlice.actions;\r\n\r\nexport default modalSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,SAASC,MAAM,QAAQ,aAAa;AAEpC,MAAMC,YAAY,GAAG;EACpBC,MAAM,EAAE,EAAE;EACVC,gBAAgB,EAAE,KAAK;EACvBC,SAAS,EAAE;AACZ,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGP,gBAAgB,CAAC,YAAY,EAAE,OAAOQ,KAAK,EAAEC,QAAQ,KAAK;EAClF,MAAM;IAAEC,gBAAgB;IAAEC;EAAS,CAAC,GAAGF,QAAQ;EAC/C,MAAMG,GAAG,GAAGJ,KAAK,CAACI,GAAG,IAAI,uCAAuC;EAChE,MAAMC,EAAE,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE;EAC/B,MAAMC,KAAK,GAAG;IAAEJ,GAAG;IAAEC;EAAG,CAAC;EACzBI,UAAU,CAAC,MAAM;IAChBN,QAAQ,CAACO,UAAU,CAACC,OAAO,CAACC,SAAS,CAACP,EAAE,CAAC,CAAC;EAC3C,CAAC,EAAE,KAAK,CAAC;EACT,OAAOH,gBAAgB,CAACM,KAAK,CAAC;AAC/B,CAAC,CAAC;AAEF,MAAME,UAAU,GAAGjB,WAAW,CAAC;EAC9BoB,IAAI,EAAE,OAAO;EACblB,YAAY;EACZmB,QAAQ,EAAE;IACTF,SAAS,EAAE,CAACG,KAAK,EAAEC,MAAM,KAAK;MAC7BD,KAAK,CAACnB,MAAM,GAAGmB,KAAK,CAACnB,MAAM,CAACqB,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACb,EAAE,KAAKW,MAAM,CAACG,OAAO,CAAC;IACrE,CAAC;IACDC,aAAa,EAAE,CAACL,KAAK,EAAEC,MAAM,KAAK;MACjCD,KAAK,CAAClB,gBAAgB,GAAGmB,MAAM,CAACG,OAAO;IACxC,CAAC;IACDE,YAAY,EAAE,CAACN,KAAK,EAAEC,MAAM,KAAK;MAChCD,KAAK,CAACjB,SAAS,GAAGkB,MAAM,CAACG,OAAO;IACjC;EACD,CAAC;EACDG,aAAa,EAAE;IACd,CAACvB,SAAS,CAACwB,SAAS,GAAG,CAACR,KAAK,EAAEC,MAAM,KAAK;MACzCD,KAAK,CAACnB,MAAM,CAAC4B,IAAI,CAACR,MAAM,CAACG,OAAO,CAAC;IAClC,CAAC;IACD,CAACzB,MAAM,CAAC+B,IAAI,GAAG,CAACV,KAAK,EAAEC,MAAM,KAAK;MACjC,OAAOrB,YAAY;IACpB;EACD;AACD,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEiB,SAAS;EAAEQ,aAAa;EAAEC;AAAa,CAAC,GAAGX,UAAU,CAACC,OAAO;AAE5E,eAAeD,UAAU,CAACgB,OAAO"},"metadata":{},"sourceType":"module"}