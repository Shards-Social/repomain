{"ast":null,"code":"import axios from\"axios\";import React,{useEffect,useState}from\"react\";import\"./loading.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let timeout;const controller=new AbortController();const Loading=_ref=>{let{show}=_ref;const[quote,setQuote]=useState(\"\");// Change initialQuote to \"\"\nconst fetchQuote=async()=>{try{const{data}=await axios.get(\"\",{signal:controller.signal});setQuote(data.text);}catch(err){// Handle errors if needed\n}};useEffect(()=>{if(!show){fetchQuote();timeout=setTimeout(()=>{setQuote(q=>{if(q!==\"408 session timeout\")return q;// Return current quote if already fetched\nreturn\"\";// Set message for slow internet\n});},3000);}return()=>{clearTimeout(timeout);controller.abort();};},[show]);return/*#__PURE__*/_jsxs(\"section\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading__circle\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Loading\"}),quote&&/*#__PURE__*/_jsx(\"p\",{children:quote}),\" \"]});};export default Loading;","map":{"version":3,"names":["axios","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","timeout","controller","AbortController","Loading","_ref","show","quote","setQuote","fetchQuote","data","get","signal","text","err","setTimeout","q","clearTimeout","abort","className","children"],"sources":["C:/Users/samth/repomain-1/src/components/Loading/Loading.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./loading.css\";\r\n\r\nlet timeout;\r\nconst controller = new AbortController();\r\n\r\nconst Loading = ({ show }) => {\r\n\tconst [quote, setQuote] = useState(\"\"); // Change initialQuote to \"\"\r\n\r\n\tconst fetchQuote = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get(\"\", {\r\n\t\t\t\tsignal: controller.signal,\r\n\t\t\t});\r\n\t\t\tsetQuote(data.text);\r\n\t\t} catch (err) {\r\n\t\t\t// Handle errors if needed\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!show) {\r\n\t\t\tfetchQuote();\r\n\t\t\ttimeout = setTimeout(() => {\r\n\t\t\t\tsetQuote(q => {\r\n\t\t\t\t\tif (q !== \"408 session timeout\") return q; // Return current quote if already fetched\r\n\t\t\t\t\treturn \"\"; // Set message for slow internet\r\n\t\t\t\t});\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\tcontroller.abort();\r\n\t\t};\r\n\t}, [show]);\r\n\r\n\treturn (\r\n\t\t<section className=\"loading\">\r\n\t\t\t<div className=\"loading__circle\"></div>\r\n\t\t\t<h2>Loading</h2>\r\n\t\t\t{quote && <p>{quote}</p>} {/* Only render the <p> if quote is not an empty string */}\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Loading;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvB,GAAI,CAAAC,OAAO,CACX,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CAExC,KAAM,CAAAC,OAAO,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CACxB,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAAE;AAExC,KAAM,CAAAa,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACH,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAjB,KAAK,CAACkB,GAAG,CAAC,EAAE,CAAE,CACpCC,MAAM,CAAEV,UAAU,CAACU,MACpB,CAAC,CAAC,CACFJ,QAAQ,CAACE,IAAI,CAACG,IAAI,CAAC,CACpB,CAAE,MAAOC,GAAG,CAAE,CACb;AAAA,CAEF,CAAC,CAEDnB,SAAS,CAAC,IAAM,CACf,GAAI,CAACW,IAAI,CAAE,CACVG,UAAU,CAAC,CAAC,CACZR,OAAO,CAAGc,UAAU,CAAC,IAAM,CAC1BP,QAAQ,CAACQ,CAAC,EAAI,CACb,GAAIA,CAAC,GAAK,qBAAqB,CAAE,MAAO,CAAAA,CAAC,CAAE;AAC3C,MAAO,EAAE,CAAE;AACZ,CAAC,CAAC,CACH,CAAC,CAAE,IAAI,CAAC,CACT,CAEA,MAAO,IAAM,CACZC,YAAY,CAAChB,OAAO,CAAC,CACrBC,UAAU,CAACgB,KAAK,CAAC,CAAC,CACnB,CAAC,CACF,CAAC,CAAE,CAACZ,IAAI,CAAC,CAAC,CAEV,mBACCN,KAAA,YAASmB,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC3BtB,IAAA,QAAKqB,SAAS,CAAC,iBAAiB,CAAM,CAAC,cACvCrB,IAAA,OAAAsB,QAAA,CAAI,SAAO,CAAI,CAAC,CACfb,KAAK,eAAIT,IAAA,MAAAsB,QAAA,CAAIb,KAAK,CAAI,CAAC,CAAC,GAAC,EAClB,CAAC,CAEZ,CAAC,CAED,cAAe,CAAAH,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}