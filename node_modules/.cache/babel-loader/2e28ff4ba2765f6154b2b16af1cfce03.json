{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\samth\\\\repomain-1\\\\src\\\\components\\\\Appbar\\\\Appbar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { dp, closeIcon, searchIcon, hamburger, chatIcon, homeIcon } from \"../../assets\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setIsLoading, toggleSidebar } from \"../../features/modalSlice\";\nimport useFetch from \"../../hooks/useFetch\";\nimport SearchResults from \"../SearchResults/SearchResults\";\nimport { fetchUsersService } from \"../../services/userServices\";\nimport { fetchPostsService } from \"../../services/postServices\";\nimport \"./appbar.css\";\nimport { logout } from \"../../features/userSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Appbar = () => {\n  _s();\n  //global states\n  const {\n    user: {\n      id,\n      profileImage,\n      isGuest\n    },\n    modal: {\n      isSidebarVisible\n    }\n  } = useSelector(state => state);\n\n  //local states\n  const [query, setQuery] = useState(\"\");\n  const [searchResult, setSearchResult] = useState({});\n  const dispatch = useDispatch();\n  const customFetch = useFetch();\n  const searchHandler = async e => {\n    e.preventDefault();\n    if (query.length > 0) {\n      dispatch(setIsLoading(true));\n      const {\n        posts\n      } = await customFetch(fetchPostsService, {\n        query\n      });\n      const {\n        users\n      } = await customFetch(fetchUsersService, {\n        query\n      });\n      setSearchResult({\n        posts,\n        users\n      });\n      dispatch(setIsLoading(false));\n    }\n  };\n  const reset = () => {\n    setQuery(\"\");\n    setSearchResult({});\n  };\n  const gotoLogin = () => dispatch(logout());\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: searchResult.posts || searchResult.users ? \"appbar topZ\" : \"appbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hamburger\",\n      onClick: () => dispatch(toggleSidebar(!isSidebarVisible)),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: isSidebarVisible ? closeIcon : hamburger,\n        alt: \"hamburger\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: homeIcon,\n        alt: \"home\",\n        className: \"home-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: searchHandler,\n      className: \"searchform\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        \"aria-label\": \"search\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: searchIcon,\n          alt: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Tap to search...\",\n        value: query,\n        onChange: e => setQuery(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: reset,\n        type: \"button\",\n        \"aria-label\": \"clear search\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: closeIcon,\n          alt: \"close\",\n          className: \"close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this), (searchResult.posts || searchResult.users) && /*#__PURE__*/_jsxDEV(SearchResults, {\n        searchResult: searchResult,\n        reset: reset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"appbar__profile\",\n      children: isGuest ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"login-btn\",\n        onClick: gotoLogin,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/user/${id}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: profileImage || dp,\n            alt: \"profileImage\",\n            className: \"appbar__profile__dp\",\n            title: \"profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/chat\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: chatIcon,\n            alt: \"chat\",\n            className: \"chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 3\n  }, this);\n};\n_s(Appbar, \"sJE5+l8s/8d+JzYa/r9Ibp7M//U=\", false, function () {\n  return [useSelector, useDispatch, useFetch];\n});\n_c = Appbar;\nexport default Appbar;\nvar _c;\n$RefreshReg$(_c, \"Appbar\");","map":{"version":3,"names":["React","useState","dp","closeIcon","searchIcon","hamburger","chatIcon","homeIcon","Link","useDispatch","useSelector","setIsLoading","toggleSidebar","useFetch","SearchResults","fetchUsersService","fetchPostsService","logout","Appbar","user","id","profileImage","isGuest","modal","isSidebarVisible","state","query","setQuery","searchResult","setSearchResult","dispatch","customFetch","searchHandler","e","preventDefault","length","posts","users","reset","gotoLogin","target","value"],"sources":["C:/Users/samth/repomain-1/src/components/Appbar/Appbar.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { dp, closeIcon, searchIcon, hamburger, chatIcon, homeIcon } from \"../../assets\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setIsLoading, toggleSidebar } from \"../../features/modalSlice\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport SearchResults from \"../SearchResults/SearchResults\";\r\nimport { fetchUsersService } from \"../../services/userServices\";\r\nimport { fetchPostsService } from \"../../services/postServices\";\r\nimport \"./appbar.css\";\r\nimport { logout } from \"../../features/userSlice\";\r\n\r\nconst Appbar = () => {\r\n\t//global states\r\n\tconst {\r\n\t\tuser: { id, profileImage, isGuest },\r\n\t\tmodal: { isSidebarVisible },\r\n\t} = useSelector(state => state);\r\n\r\n\t//local states\r\n\tconst [query, setQuery] = useState(\"\");\r\n\tconst [searchResult, setSearchResult] = useState({});\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst customFetch = useFetch();\r\n\r\n\tconst searchHandler = async e => {\r\n\t\te.preventDefault();\r\n\t\tif (query.length > 0) {\r\n\t\t\tdispatch(setIsLoading(true));\r\n\t\t\tconst { posts } = await customFetch(fetchPostsService, { query });\r\n\t\t\tconst { users } = await customFetch(fetchUsersService, { query });\r\n\t\t\tsetSearchResult({ posts, users });\r\n\t\t\tdispatch(setIsLoading(false));\r\n\t\t}\r\n\t};\r\n\r\n\tconst reset = () => {\r\n\t\tsetQuery(\"\");\r\n\t\tsetSearchResult({});\r\n\t};\r\n\r\n\tconst gotoLogin = () => dispatch(logout());\r\n\r\n\treturn (\r\n\t\t<header className={searchResult.posts || searchResult.users ? \"appbar topZ\" : \"appbar\"}>\r\n\t\t\t<div className=\"hamburger\" onClick={() => dispatch(toggleSidebar(!isSidebarVisible))}>\r\n\t\t\t\t<img src={isSidebarVisible ? closeIcon : hamburger} alt=\"hamburger\" />\r\n\t\t\t</div>\r\n\t\t\t<Link to=\"/\">\r\n\t\t\t\t<img src={homeIcon} alt=\"home\" className=\"home-icon\" />\r\n\t\t\t</Link>\r\n\t\t\t<form onSubmit={searchHandler} className=\"searchform\">\r\n\t\t\t\t<button type=\"submit\" aria-label=\"search\">\r\n\t\t\t\t\t<img src={searchIcon} alt=\"search\" />\r\n\t\t\t\t</button>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Tap to search...\"\r\n\t\t\t\t\tvalue={query}\r\n\t\t\t\t\tonChange={e => setQuery(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<button onClick={reset} type=\"button\" aria-label=\"clear search\">\r\n\t\t\t\t\t<img src={closeIcon} alt=\"close\" className=\"close\" />\r\n\t\t\t\t</button>\r\n\t\t\t\t{(searchResult.posts || searchResult.users) && (\r\n\t\t\t\t\t<SearchResults searchResult={searchResult} reset={reset} />\r\n\t\t\t\t)}\r\n\t\t\t</form>\r\n\t\t\t<nav className=\"appbar__profile\">\r\n\t\t\t\t{isGuest ? (\r\n\t\t\t\t\t<button className=\"login-btn\" onClick={gotoLogin}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Link to={`/user/${id}`}>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={profileImage || dp}\r\n\t\t\t\t\t\t\t\talt=\"profileImage\"\r\n\t\t\t\t\t\t\t\tclassName=\"appbar__profile__dp\"\r\n\t\t\t\t\t\t\t\ttitle=\"profile\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/chat\">\r\n\t\t\t\t\t\t\t<img src={chatIcon} alt=\"chat\" className=\"chat\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</nav>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Appbar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}